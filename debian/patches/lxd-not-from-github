Description: Make golang use local LXD package instead of github
 Change LXD imports to local to avoid downloading the newest
 version from Github.
 .
 lxd (4.6-1) unstable; urgency=medium
 .
   * Initial release (Closes: #nnnn)  <nnnn is the bug number of your ITP>
Author: Piotr Iwaniuk <piwaniuk@poczta.onet.pl>

---
The information above should follow the Patch Tagging Guidelines, please
checkout http://dep.debian.net/deps/dep3/ to learn about the format. Here
are templates for supplementary fields that you might want to add:

Origin: <vendor|upstream|other>, <url of original patch>
Bug: <url in upstream bugtracker>
Bug-Debian: https://bugs.debian.org/<bugnumber>
Bug-Ubuntu: https://launchpad.net/bugs/<bugnumber>
Forwarded: <no|not-needed|url proving that it has been forwarded>
Reviewed-By: <name and email of someone who approved the patch>
Last-Update: 2020-10-18

--- lxd-4.6.orig/client/connection.go
+++ lxd-4.6/client/connection.go
@@ -12,9 +12,9 @@ import (
 
 	"gopkg.in/macaroon-bakery.v2/httpbakery"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/simplestreams"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/simplestreams"
 )
 
 // ConnectionArgs represents a set of common connection properties
--- lxd-4.6.orig/client/events.go
+++ lxd-4.6/client/events.go
@@ -4,7 +4,7 @@ import (
 	"fmt"
 	"sync"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 // The EventListener struct is used to interact with a LXD event stream
--- lxd-4.6.orig/client/interfaces.go
+++ lxd-4.6/client/interfaces.go
@@ -6,9 +6,9 @@ import (
 
 	"github.com/gorilla/websocket"
 
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/cancel"
-	"github.com/lxc/lxd/shared/ioprogress"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/cancel"
+	"lxc/lxd/shared/ioprogress"
 )
 
 // The Operation type represents a currently running operation.
--- lxd-4.6.orig/client/lxd.go
+++ lxd-4.6/client/lxd.go
@@ -13,9 +13,9 @@ import (
 	"gopkg.in/macaroon-bakery.v2/bakery"
 	"gopkg.in/macaroon-bakery.v2/httpbakery"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
 
 	neturl "net/url"
 )
--- lxd-4.6.orig/client/lxd_certificates.go
+++ lxd-4.6/client/lxd_certificates.go
@@ -5,7 +5,7 @@ import (
 	"net/url"
 	"strings"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 // Certificate handling functions
--- lxd-4.6.orig/client/lxd_cluster.go
+++ lxd-4.6/client/lxd_cluster.go
@@ -3,7 +3,7 @@ package lxd
 import (
 	"fmt"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 // GetCluster returns information about a cluster
--- lxd-4.6.orig/client/lxd_containers.go
+++ lxd-4.6/client/lxd_containers.go
@@ -10,11 +10,11 @@ import (
 
 	"github.com/gorilla/websocket"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/cancel"
-	"github.com/lxc/lxd/shared/ioprogress"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/cancel"
+	"lxc/lxd/shared/ioprogress"
+	"lxc/lxd/shared/units"
 )
 
 // Container handling functions
--- lxd-4.6.orig/client/lxd_events.go
+++ lxd-4.6/client/lxd_events.go
@@ -4,8 +4,8 @@ import (
 	"encoding/json"
 	"time"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 // Event handling functions
--- lxd-4.6.orig/client/lxd_images.go
+++ lxd-4.6/client/lxd_images.go
@@ -12,11 +12,11 @@ import (
 	"os"
 	"strings"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/cancel"
-	"github.com/lxc/lxd/shared/ioprogress"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/cancel"
+	"lxc/lxd/shared/ioprogress"
+	"lxc/lxd/shared/units"
 )
 
 // Image handling functions
--- lxd-4.6.orig/client/lxd_instances.go
+++ lxd-4.6/client/lxd_instances.go
@@ -10,11 +10,11 @@ import (
 
 	"github.com/gorilla/websocket"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/cancel"
-	"github.com/lxc/lxd/shared/ioprogress"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/cancel"
+	"lxc/lxd/shared/ioprogress"
+	"lxc/lxd/shared/units"
 )
 
 // Instance handling functions.
--- lxd-4.6.orig/client/lxd_networks.go
+++ lxd-4.6/client/lxd_networks.go
@@ -5,7 +5,7 @@ import (
 	"net/url"
 	"strings"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 // GetNetworkNames returns a list of network names
--- lxd-4.6.orig/client/lxd_operations.go
+++ lxd-4.6/client/lxd_operations.go
@@ -7,7 +7,7 @@ import (
 
 	"github.com/gorilla/websocket"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 // GetOperationUUIDs returns a list of operation uuids
--- lxd-4.6.orig/client/lxd_profiles.go
+++ lxd-4.6/client/lxd_profiles.go
@@ -5,7 +5,7 @@ import (
 	"net/url"
 	"strings"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 // Profile handling functions
--- lxd-4.6.orig/client/lxd_projects.go
+++ lxd-4.6/client/lxd_projects.go
@@ -5,7 +5,7 @@ import (
 	"net/url"
 	"strings"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 // Project handling functions
--- lxd-4.6.orig/client/lxd_server.go
+++ lxd-4.6/client/lxd_server.go
@@ -3,8 +3,8 @@ package lxd
 import (
 	"fmt"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 // Server handling functions
--- lxd-4.6.orig/client/lxd_storage_pools.go
+++ lxd-4.6/client/lxd_storage_pools.go
@@ -5,7 +5,7 @@ import (
 	"net/url"
 	"strings"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 // Storage pool handling functions
--- lxd-4.6.orig/client/lxd_storage_volumes.go
+++ lxd-4.6/client/lxd_storage_volumes.go
@@ -5,7 +5,7 @@ import (
 	"net/url"
 	"strings"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 // Storage volumes handling function
--- lxd-4.6.orig/client/operations.go
+++ lxd-4.6/client/operations.go
@@ -7,7 +7,7 @@ import (
 
 	"github.com/gorilla/websocket"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 // The Operation type represents an ongoing LXD operation (asynchronous processing)
--- lxd-4.6.orig/client/simplestreams.go
+++ lxd-4.6/client/simplestreams.go
@@ -4,7 +4,7 @@ import (
 	"fmt"
 	"net/http"
 
-	"github.com/lxc/lxd/shared/simplestreams"
+	"lxc/lxd/shared/simplestreams"
 )
 
 // ProtocolSimpleStreams implements a SimpleStreams API client
--- lxd-4.6.orig/client/simplestreams_images.go
+++ lxd-4.6/client/simplestreams_images.go
@@ -10,8 +10,8 @@ import (
 	"os/exec"
 	"strings"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 // Image handling functions
--- lxd-4.6.orig/client/util.go
+++ lxd-4.6/client/util.go
@@ -9,7 +9,7 @@ import (
 	"os"
 	"strings"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 func tlsHTTPClient(client *http.Client, tlsClientCert string, tlsClientKey string, tlsCA string, tlsServerCert string, insecureSkipVerify bool, proxy func(req *http.Request) (*url.URL, error)) (*http.Client, error) {
--- lxd-4.6.orig/fuidshift/main.go
+++ lxd-4.6/fuidshift/main.go
@@ -3,7 +3,7 @@ package main
 import (
 	"os"
 
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/shared/version"
 )
 
 type cmdGlobal struct {
--- lxd-4.6.orig/fuidshift/main_shift.go
+++ lxd-4.6/fuidshift/main_shift.go
@@ -6,7 +6,7 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/shared/idmap"
+	"lxc/lxd/shared/idmap"
 )
 
 type cmdShift struct {
--- lxd-4.6.orig/lxc-to-lxd/config.go
+++ lxd-4.6/lxc-to-lxd/config.go
@@ -8,7 +8,7 @@ import (
 	"path/filepath"
 	"strings"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 var checkedKeys = []string{
--- lxd-4.6.orig/lxc-to-lxd/main.go
+++ lxd-4.6/lxc-to-lxd/main.go
@@ -5,7 +5,7 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/shared/version"
 )
 
 type cmdGlobal struct {
--- lxd-4.6.orig/lxc-to-lxd/main_migrate.go
+++ lxd-4.6/lxc-to-lxd/main_migrate.go
@@ -11,12 +11,12 @@ import (
 	"github.com/spf13/cobra"
 	liblxc "gopkg.in/lxc/go-lxc.v2"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/osarch"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/osarch"
 )
 
 type cmdMigrate struct {
--- lxd-4.6.orig/lxc-to-lxd/main_netcat.go
+++ lxd-4.6/lxc-to-lxd/main_netcat.go
@@ -9,7 +9,7 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/shared/eagain"
+	"lxc/lxd/shared/eagain"
 )
 
 type cmdNetcat struct {
--- lxd-4.6.orig/lxc-to-lxd/transfer.go
+++ lxd-4.6/lxc-to-lxd/transfer.go
@@ -12,9 +12,9 @@ import (
 	"github.com/gorilla/websocket"
 	"github.com/pborman/uuid"
 
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/rsync"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/rsync"
+	"lxc/lxd/shared"
 )
 
 // Send an rsync stream of a path over a websocket
--- lxd-4.6.orig/lxc-to-lxd/utils.go
+++ lxd-4.6/lxc-to-lxd/utils.go
@@ -3,8 +3,8 @@ package main
 import (
 	"fmt"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/migration"
+	"lxc/lxd/client"
+	"lxc/lxd/lxd/migration"
 )
 
 func transferRootfs(dst lxd.ContainerServer, op lxd.Operation, rootfs string, rsyncArgs string) error {
--- lxd-4.6.orig/lxc/action.go
+++ lxd-4.6/lxc/action.go
@@ -7,12 +7,12 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/lxc/config"
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
+	"lxc/lxd/lxc/config"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
 )
 
 // Start
--- lxd-4.6.orig/lxc/alias.go
+++ lxd-4.6/lxc/alias.go
@@ -6,9 +6,9 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/lxc/utils"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
+	"lxc/lxd/lxc/utils"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
 )
 
 type cmdAlias struct {
--- lxd-4.6.orig/lxc/cluster.go
+++ lxd-4.6/lxc/cluster.go
@@ -12,12 +12,12 @@ import (
 	"github.com/spf13/cobra"
 	yaml "gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/termios"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/termios"
 )
 
 type cmdCluster struct {
--- lxd-4.6.orig/lxc/config.go
+++ lxd-4.6/lxc/config.go
@@ -9,12 +9,12 @@ import (
 	"github.com/spf13/cobra"
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/termios"
+	"lxc/lxd/client"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/termios"
 )
 
 type cmdConfig struct {
--- lxd-4.6.orig/lxc/config/cert.go
+++ lxd-4.6/lxc/config/cert.go
@@ -1,7 +1,7 @@
 package config
 
 import (
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // HasClientCertificate will return true if a client certificate has already been generated
--- lxd-4.6.orig/lxc/config/file.go
+++ lxd-4.6/lxc/config/file.go
@@ -8,7 +8,7 @@ import (
 
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // LoadConfig reads the configuration from the config path; if the path does
--- lxd-4.6.orig/lxc/config/remote.go
+++ lxd-4.6/lxc/config/remote.go
@@ -15,8 +15,8 @@ import (
 	"gopkg.in/macaroon-bakery.v2/httpbakery"
 	"gopkg.in/macaroon-bakery.v2/httpbakery/form"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/client"
+	"lxc/lxd/shared"
 )
 
 // Remote holds details for communication with a remote daemon
--- lxd-4.6.orig/lxc/config_device.go
+++ lxd-4.6/lxc/config_device.go
@@ -7,8 +7,8 @@ import (
 	"github.com/spf13/cobra"
 	"gopkg.in/yaml.v2"
 
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
 )
 
 type cmdConfigDevice struct {
--- lxd-4.6.orig/lxc/config_metadata.go
+++ lxd-4.6/lxc/config_metadata.go
@@ -8,11 +8,11 @@ import (
 	"github.com/spf13/cobra"
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/termios"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/termios"
 )
 
 type cmdConfigMetadata struct {
--- lxd-4.6.orig/lxc/config_template.go
+++ lxd-4.6/lxc/config_template.go
@@ -9,11 +9,11 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/termios"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/termios"
 )
 
 type cmdConfigTemplate struct {
--- lxd-4.6.orig/lxc/config_trust.go
+++ lxd-4.6/lxc/config_trust.go
@@ -9,11 +9,11 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
 )
 
 type cmdConfigTrust struct {
--- lxd-4.6.orig/lxc/console.go
+++ lxd-4.6/lxc/console.go
@@ -13,13 +13,13 @@ import (
 	"github.com/gorilla/websocket"
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/termios"
+	"lxc/lxd/client"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/termios"
 )
 
 type cmdConsole struct {
--- lxd-4.6.orig/lxc/console_unix.go
+++ lxd-4.6/lxc/console_unix.go
@@ -10,7 +10,7 @@ import (
 	"github.com/gorilla/websocket"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logger"
 )
 
 func (c *cmdConsole) controlSocketHandler(control *websocket.Conn) {
--- lxd-4.6.orig/lxc/copy.go
+++ lxd-4.6/lxc/copy.go
@@ -6,13 +6,13 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxc/config"
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
+	"lxc/lxd/client"
+	"lxc/lxd/lxc/config"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
 )
 
 type cmdCopy struct {
--- lxd-4.6.orig/lxc/delete.go
+++ lxd-4.6/lxc/delete.go
@@ -8,11 +8,11 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
+	"lxc/lxd/client"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
 )
 
 type cmdDelete struct {
--- lxd-4.6.orig/lxc/exec.go
+++ lxd-4.6/lxc/exec.go
@@ -12,12 +12,12 @@ import (
 	"github.com/gorilla/websocket"
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/termios"
+	"lxc/lxd/client"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/termios"
 )
 
 type cmdExec struct {
--- lxd-4.6.orig/lxc/exec_unix.go
+++ lxd-4.6/lxc/exec_unix.go
@@ -9,8 +9,8 @@ import (
 	"github.com/gorilla/websocket"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
 )
 
 func (c *cmdExec) getTERM() (string, bool) {
--- lxd-4.6.orig/lxc/exec_windows.go
+++ lxd-4.6/lxc/exec_windows.go
@@ -10,8 +10,8 @@ import (
 	"github.com/gorilla/websocket"
 	"golang.org/x/sys/windows"
 
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
 )
 
 // Windows doesn't process ANSI sequences natively, so we wrap
--- lxd-4.6.orig/lxc/export.go
+++ lxd-4.6/lxc/export.go
@@ -9,12 +9,12 @@ import (
 	"github.com/pkg/errors"
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
+	"lxc/lxd/client"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
 )
 
 type cmdExport struct {
--- lxd-4.6.orig/lxc/file.go
+++ lxd-4.6/lxc/file.go
@@ -14,15 +14,15 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/ioprogress"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/termios"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/client"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/ioprogress"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/termios"
+	"lxc/lxd/shared/units"
 )
 
 type cmdFile struct {
--- lxd-4.6.orig/lxc/image.go
+++ lxd-4.6/lxc/image.go
@@ -13,13 +13,13 @@ import (
 	"github.com/spf13/cobra"
 	"gopkg.in/yaml.v2"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/termios"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/termios"
 )
 
 type imageColumn struct {
--- lxd-4.6.orig/lxc/image_alias.go
+++ lxd-4.6/lxc/image_alias.go
@@ -7,10 +7,10 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
 )
 
 type cmdImageAlias struct {
--- lxd-4.6.orig/lxc/import.go
+++ lxd-4.6/lxc/import.go
@@ -6,13 +6,13 @@ import (
 
 	"github.com/spf13/cobra"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/ioprogress"
-	"github.com/lxc/lxd/shared/units"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/ioprogress"
+	"lxc/lxd/shared/units"
 )
 
 type cmdImport struct {
--- lxd-4.6.orig/lxc/info.go
+++ lxd-4.6/lxc/info.go
@@ -9,13 +9,13 @@ import (
 	"github.com/spf13/cobra"
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxc/config"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/client"
+	"lxc/lxd/lxc/config"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/units"
 )
 
 type cmdInfo struct {
--- lxd-4.6.orig/lxc/init.go
+++ lxd-4.6/lxc/init.go
@@ -9,13 +9,13 @@ import (
 	"github.com/spf13/cobra"
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxc/config"
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/termios"
+	"lxc/lxd/client"
+	"lxc/lxd/lxc/config"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/termios"
 )
 
 type cmdInit struct {
--- lxd-4.6.orig/lxc/launch.go
+++ lxd-4.6/lxc/launch.go
@@ -5,10 +5,10 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
 )
 
 type cmdLaunch struct {
--- lxd-4.6.orig/lxc/list.go
+++ lxd-4.6/lxc/list.go
@@ -10,14 +10,14 @@ import (
 
 	"github.com/spf13/cobra"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxc/config"
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/units"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxc/config"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/units"
 )
 
 type column struct {
--- lxd-4.6.orig/lxc/list_test.go
+++ lxd-4.6/lxc/list_test.go
@@ -7,8 +7,8 @@ import (
 	"strings"
 	"testing"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 func TestDotPrefixMatch(t *testing.T) {
--- lxd-4.6.orig/lxc/main.go
+++ lxd-4.6/lxc/main.go
@@ -9,14 +9,14 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxc/config"
-	"github.com/lxc/lxd/shared"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/logging"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/client"
+	"lxc/lxd/lxc/config"
+	"lxc/lxd/shared"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logging"
+	"lxc/lxd/shared/version"
 )
 
 type cmdGlobal struct {
--- lxd-4.6.orig/lxc/main_aliases.go
+++ lxd-4.6/lxc/main_aliases.go
@@ -9,9 +9,9 @@ import (
 	"path/filepath"
 	"strings"
 
-	"github.com/lxc/lxd/lxc/config"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/i18n"
+	"lxc/lxd/lxc/config"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/i18n"
 )
 
 // defaultAliases contains LXC's built-in command line aliases.  The built-in
--- lxd-4.6.orig/lxc/main_test.go
+++ lxd-4.6/lxc/main_test.go
@@ -3,7 +3,7 @@ package main
 import (
 	"testing"
 
-	"github.com/lxc/lxd/lxc/config"
+	"lxc/lxd/lxc/config"
 )
 
 type aliasTestcase struct {
--- lxd-4.6.orig/lxc/manpage.go
+++ lxd-4.6/lxc/manpage.go
@@ -4,9 +4,9 @@ import (
 	"github.com/spf13/cobra"
 	"github.com/spf13/cobra/doc"
 
-	"github.com/lxc/lxd/shared"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
+	"lxc/lxd/shared"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
 )
 
 type cmdManpage struct {
--- lxd-4.6.orig/lxc/monitor.go
+++ lxd-4.6/lxc/monitor.go
@@ -7,12 +7,12 @@ import (
 	"github.com/spf13/cobra"
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logging"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logging"
 )
 
 type cmdMonitor struct {
--- lxd-4.6.orig/lxc/move.go
+++ lxd-4.6/lxc/move.go
@@ -5,11 +5,11 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/lxc/config"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
+	"lxc/lxd/lxc/config"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxc/network.go
+++ lxd-4.6/lxc/network.go
@@ -10,13 +10,13 @@ import (
 	"github.com/spf13/cobra"
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/termios"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/termios"
+	"lxc/lxd/shared/units"
 )
 
 type cmdNetwork struct {
--- lxd-4.6.orig/lxc/operation.go
+++ lxd-4.6/lxc/operation.go
@@ -8,9 +8,9 @@ import (
 	"github.com/spf13/cobra"
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/lxc/utils"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
+	"lxc/lxd/lxc/utils"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
 )
 
 type cmdOperation struct {
--- lxd-4.6.orig/lxc/profile.go
+++ lxd-4.6/lxc/profile.go
@@ -10,12 +10,12 @@ import (
 	"github.com/spf13/cobra"
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/termios"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/termios"
 )
 
 type cmdProfile struct {
--- lxd-4.6.orig/lxc/project.go
+++ lxd-4.6/lxc/project.go
@@ -10,12 +10,12 @@ import (
 	"github.com/spf13/cobra"
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/termios"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/termios"
 )
 
 type cmdProject struct {
--- lxd-4.6.orig/lxc/publish.go
+++ lxd-4.6/lxc/publish.go
@@ -6,13 +6,13 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
+	"lxc/lxd/client"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 type cmdPublish struct {
--- lxd-4.6.orig/lxc/query.go
+++ lxd-4.6/lxc/query.go
@@ -11,9 +11,9 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
 )
 
 type cmdQuery struct {
--- lxd-4.6.orig/lxc/remote.go
+++ lxd-4.6/lxc/remote.go
@@ -13,13 +13,13 @@ import (
 	"github.com/spf13/cobra"
 	"golang.org/x/crypto/ssh/terminal"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxc/config"
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxc/config"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
 )
 
 type cmdRemote struct {
--- lxd-4.6.orig/lxc/rename.go
+++ lxd-4.6/lxc/rename.go
@@ -6,8 +6,8 @@ import (
 
 	"github.com/spf13/cobra"
 
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
 )
 
 type cmdRename struct {
--- lxd-4.6.orig/lxc/restore.go
+++ lxd-4.6/lxc/restore.go
@@ -5,10 +5,10 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
 )
 
 type cmdRestore struct {
--- lxd-4.6.orig/lxc/snapshot.go
+++ lxd-4.6/lxc/snapshot.go
@@ -3,10 +3,10 @@ package main
 import (
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
 
 	"fmt"
 	"strings"
--- lxd-4.6.orig/lxc/storage.go
+++ lxd-4.6/lxc/storage.go
@@ -11,13 +11,13 @@ import (
 	"github.com/spf13/cobra"
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/termios"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/termios"
+	"lxc/lxd/shared/units"
 )
 
 type cmdStorage struct {
--- lxd-4.6.orig/lxc/storage_volume.go
+++ lxd-4.6/lxc/storage_volume.go
@@ -12,13 +12,13 @@ import (
 	"github.com/spf13/cobra"
 	"gopkg.in/yaml.v2"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/termios"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/termios"
 )
 
 type cmdStorageVolume struct {
--- lxd-4.6.orig/lxc/utils.go
+++ lxd-4.6/lxc/utils.go
@@ -10,10 +10,10 @@ import (
 	"github.com/fvbommel/sortorder"
 	"github.com/pkg/errors"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/termios"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/termios"
 )
 
 type stringList [][]string
--- lxd-4.6.orig/lxc/utils/cancel.go
+++ lxd-4.6/lxc/utils/cancel.go
@@ -6,8 +6,8 @@ import (
 	"os/signal"
 	"time"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/shared/i18n"
+	"lxc/lxd/client"
+	"lxc/lxd/shared/i18n"
 )
 
 // CancelableWait waits for an operation and cancel it on SIGINT/SIGTERM
--- lxd-4.6.orig/lxc/utils/progress.go
+++ lxd-4.6/lxc/utils/progress.go
@@ -7,9 +7,9 @@ import (
 	"sync"
 	"time"
 
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/ioprogress"
-	"github.com/lxc/lxd/shared/termios"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/ioprogress"
+	"lxc/lxd/shared/termios"
 )
 
 // ProgressRenderer tracks the progress information
--- lxd-4.6.orig/lxc/utils/table.go
+++ lxd-4.6/lxc/utils/table.go
@@ -6,7 +6,7 @@ import (
 	"fmt"
 	"os"
 
-	"github.com/lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/i18n"
 	"github.com/olekukonko/tablewriter"
 	"gopkg.in/yaml.v2"
 )
--- lxd-4.6.orig/lxc/utils_test.go
+++ lxd-4.6/lxc/utils_test.go
@@ -6,7 +6,7 @@ import (
 
 	"github.com/stretchr/testify/suite"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 type utilsTestSuite struct {
--- lxd-4.6.orig/lxc/version.go
+++ lxd-4.6/lxc/version.go
@@ -6,9 +6,9 @@ import (
 
 	"github.com/spf13/cobra"
 
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/i18n"
-	"github.com/lxc/lxd/shared/version"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/i18n"
+	"lxc/lxd/shared/version"
 )
 
 type cmdVersion struct {
--- lxd-4.6.orig/lxd-agent/api.go
+++ lxd-4.6/lxd-agent/api.go
@@ -3,7 +3,7 @@ package main
 import (
 	"net/http"
 
-	"github.com/lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/response"
 )
 
 // APIEndpoint represents a URL in our API.
--- lxd-4.6.orig/lxd-agent/api_1.0.go
+++ lxd-4.6/lxd-agent/api_1.0.go
@@ -4,10 +4,10 @@ import (
 	"net/http"
 	"os"
 
-	"github.com/lxc/lxd/lxd/response"
-	lxdshared "github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/response"
+	lxdshared "lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/version"
 )
 
 var api10Cmd = APIEndpoint{
--- lxd-4.6.orig/lxd-agent/daemon.go
+++ lxd-4.6/lxd-agent/daemon.go
@@ -1,7 +1,7 @@
 package main
 
 import (
-	"github.com/lxc/lxd/lxd/events"
+	"lxc/lxd/lxd/events"
 )
 
 // A Daemon can respond to requests from a shared client.
--- lxd-4.6.orig/lxd-agent/devlxd.go
+++ lxd-4.6/lxd-agent/devlxd.go
@@ -11,11 +11,11 @@ import (
 	"strings"
 
 	"github.com/gorilla/mux"
-	"github.com/lxc/lxd/lxd/daemon"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/daemon"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/version"
 )
 
 // DevLxdServer creates an http.Server capable of handling requests against the
--- lxd-4.6.orig/lxd-agent/events.go
+++ lxd-4.6/lxd-agent/events.go
@@ -6,10 +6,10 @@ import (
 	"net/http"
 	"strings"
 
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
 )
 
 var eventsCmd = APIEndpoint{
--- lxd-4.6.orig/lxd-agent/exec.go
+++ lxd-4.6/lxd-agent/exec.go
@@ -14,13 +14,13 @@ import (
 	"github.com/gorilla/websocket"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/netutils"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/netutils"
 )
 
 var execCmd = APIEndpoint{
--- lxd-4.6.orig/lxd-agent/file.go
+++ lxd-4.6/lxd-agent/file.go
@@ -10,8 +10,8 @@ import (
 
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/shared"
 )
 
 var fileCmd = APIEndpoint{
--- lxd-4.6.orig/lxd-agent/main.go
+++ lxd-4.6/lxd-agent/main.go
@@ -5,7 +5,7 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/shared/version"
 )
 
 type cmdGlobal struct {
--- lxd-4.6.orig/lxd-agent/main_agent.go
+++ lxd-4.6/lxd-agent/main_agent.go
@@ -16,12 +16,12 @@ import (
 	"github.com/spf13/cobra"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/lxd/vsock"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/logging"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/lxd/vsock"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logging"
 )
 
 type cmdAgent struct {
--- lxd-4.6.orig/lxd-agent/network.go
+++ lxd-4.6/lxd-agent/network.go
@@ -6,8 +6,8 @@ import (
 	"sync"
 	"time"
 
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
 )
 
 // A variation of the standard tls.Listener that supports atomically swapping
--- lxd-4.6.orig/lxd-agent/operations.go
+++ lxd-4.6/lxd-agent/operations.go
@@ -8,11 +8,11 @@ import (
 	"github.com/gorilla/mux"
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 var operationCmd = APIEndpoint{
--- lxd-4.6.orig/lxd-agent/server.go
+++ lxd-4.6/lxd-agent/server.go
@@ -11,10 +11,10 @@ import (
 
 	"github.com/gorilla/mux"
 
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 )
 
 func restServer(tlsConfig *tls.Config, cert *x509.Certificate, debug bool, d *Daemon) *http.Server {
--- lxd-4.6.orig/lxd-agent/state.go
+++ lxd-4.6/lxd-agent/state.go
@@ -8,9 +8,9 @@ import (
 	"strconv"
 	"strings"
 
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
 )
 
 var stateCmd = APIEndpoint{
--- lxd-4.6.orig/lxd-agent/templates.go
+++ lxd-4.6/lxd-agent/templates.go
@@ -10,8 +10,8 @@ import (
 	"github.com/pkg/errors"
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 func templatesApply(path string) ([]string, error) {
--- lxd-4.6.orig/lxd-benchmark/benchmark/benchmark.go
+++ lxd-4.6/lxd-benchmark/benchmark/benchmark.go
@@ -6,10 +6,10 @@ import (
 	"sync"
 	"time"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxc/config"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/client"
+	"lxc/lxd/lxc/config"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/version"
 )
 
 const userConfigKey = "user.lxd-benchmark"
--- lxd-4.6.orig/lxd-benchmark/benchmark/operation.go
+++ lxd-4.6/lxd-benchmark/benchmark/operation.go
@@ -1,8 +1,8 @@
 package benchmark
 
 import (
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/client"
+	"lxc/lxd/shared/api"
 )
 
 func createContainer(c lxd.ContainerServer, fingerprint string, name string, privileged bool) error {
--- lxd-4.6.orig/lxd-benchmark/main.go
+++ lxd-4.6/lxd-benchmark/main.go
@@ -6,10 +6,10 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd-benchmark/benchmark"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/client"
+	"lxc/lxd/lxd-benchmark/benchmark"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/version"
 )
 
 type cmdGlobal struct {
--- lxd-4.6.orig/lxd-benchmark/main_delete.go
+++ lxd-4.6/lxd-benchmark/main_delete.go
@@ -3,7 +3,7 @@ package main
 import (
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/lxd-benchmark/benchmark"
+	"lxc/lxd/lxd-benchmark/benchmark"
 )
 
 type cmdDelete struct {
--- lxd-4.6.orig/lxd-benchmark/main_init.go
+++ lxd-4.6/lxd-benchmark/main_init.go
@@ -3,7 +3,7 @@ package main
 import (
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/lxd-benchmark/benchmark"
+	"lxc/lxd/lxd-benchmark/benchmark"
 )
 
 type cmdInit struct {
--- lxd-4.6.orig/lxd-benchmark/main_launch.go
+++ lxd-4.6/lxd-benchmark/main_launch.go
@@ -3,7 +3,7 @@ package main
 import (
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/lxd-benchmark/benchmark"
+	"lxc/lxd/lxd-benchmark/benchmark"
 )
 
 type cmdLaunch struct {
--- lxd-4.6.orig/lxd-benchmark/main_start.go
+++ lxd-4.6/lxd-benchmark/main_start.go
@@ -3,7 +3,7 @@ package main
 import (
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/lxd-benchmark/benchmark"
+	"lxc/lxd/lxd-benchmark/benchmark"
 )
 
 type cmdStart struct {
--- lxd-4.6.orig/lxd-benchmark/main_stop.go
+++ lxd-4.6/lxd-benchmark/main_stop.go
@@ -3,7 +3,7 @@ package main
 import (
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/lxd-benchmark/benchmark"
+	"lxc/lxd/lxd-benchmark/benchmark"
 )
 
 type cmdStop struct {
--- lxd-4.6.orig/lxd-p2c/main.go
+++ lxd-4.6/lxd-p2c/main.go
@@ -5,7 +5,7 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/shared/version"
 )
 
 type cmdGlobal struct {
--- lxd-4.6.orig/lxd-p2c/main_migrate.go
+++ lxd-4.6/lxd-p2c/main_migrate.go
@@ -13,9 +13,9 @@ import (
 	"github.com/spf13/cobra"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/osarch"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/osarch"
 )
 
 type cmdMigrate struct {
--- lxd-4.6.orig/lxd-p2c/main_netcat.go
+++ lxd-4.6/lxd-p2c/main_netcat.go
@@ -9,7 +9,7 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/shared/eagain"
+	"lxc/lxd/shared/eagain"
 )
 
 type cmdNetcat struct {
--- lxd-4.6.orig/lxd-p2c/transfer.go
+++ lxd-4.6/lxd-p2c/transfer.go
@@ -12,9 +12,9 @@ import (
 	"github.com/gorilla/websocket"
 	"github.com/pborman/uuid"
 
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/rsync"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/rsync"
+	"lxc/lxd/shared"
 )
 
 // Send an rsync stream of a path over a websocket
--- lxd-4.6.orig/lxd-p2c/utils.go
+++ lxd-4.6/lxd-p2c/utils.go
@@ -10,11 +10,11 @@ import (
 	"golang.org/x/crypto/ssh/terminal"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/client"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/version"
 )
 
 func transferRootfs(dst lxd.ContainerServer, op lxd.Operation, rootfs string, rsyncArgs string) error {
--- lxd-4.6.orig/lxd/api.go
+++ lxd-4.6/lxd/api.go
@@ -5,14 +5,14 @@ import (
 	"net/url"
 	"strings"
 
-	log "github.com/lxc/lxd/shared/log15"
+	log "lxc/lxd/shared/log15"
 
 	"github.com/gorilla/mux"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/shared/logger"
 )
 
 // RestServer creates an http.Server capable of handling requests against the LXD REST API endpoint.
--- lxd-4.6.orig/lxd/api_1.0.go
+++ lxd-4.6/lxd/api_1.0.go
@@ -8,19 +8,19 @@ import (
 
 	liblxc "gopkg.in/lxc/go-lxc.v2"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/config"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/node"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/osarch"
-	"github.com/lxc/lxd/shared/version"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/config"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/node"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/osarch"
+	"lxc/lxd/shared/version"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/api_cluster.go
+++ lxd-4.6/lxd/api_cluster.go
@@ -14,20 +14,20 @@ import (
 	"github.com/gorilla/mux"
 	"github.com/pkg/errors"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/node"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/osarch"
-	"github.com/lxc/lxd/shared/version"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/node"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/osarch"
+	"lxc/lxd/shared/version"
 )
 
 var clusterCmd = APIEndpoint{
--- lxd-4.6.orig/lxd/api_cluster_test.go
+++ lxd-4.6/lxd/api_cluster_test.go
@@ -9,10 +9,10 @@ import (
 	"testing"
 	"time"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/api_internal.go
+++ lxd-4.6/lxd/api_internal.go
@@ -15,23 +15,23 @@ import (
 	"github.com/gorilla/mux"
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/backup"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/db/cluster"
-	"github.com/lxc/lxd/lxd/db/node"
-	"github.com/lxc/lxd/lxd/db/query"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/response"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	storageDrivers "github.com/lxc/lxd/lxd/storage/drivers"
-	"github.com/lxc/lxd/shared"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/osarch"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/lxd/backup"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db/cluster"
+	"lxc/lxd/lxd/db/node"
+	"lxc/lxd/lxd/db/query"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/response"
+	storagePools "lxc/lxd/lxd/storage"
+	storageDrivers "lxc/lxd/lxd/storage/drivers"
+	"lxc/lxd/shared"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/osarch"
+	"lxc/lxd/shared/units"
 )
 
 var apiInternal = []APIEndpoint{
--- lxd-4.6.orig/lxd/api_networks_test.go
+++ lxd-4.6/lxd/api_networks_test.go
@@ -3,7 +3,7 @@ package main
 import (
 	"testing"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/api_project.go
+++ lxd-4.6/lxd/api_project.go
@@ -11,15 +11,15 @@ import (
 	"github.com/gorilla/mux"
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/operations"
-	projecthelpers "github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/validate"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/operations"
+	projecthelpers "lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/validate"
+	"lxc/lxd/shared/version"
 )
 
 // projectFeatures are the features available to projects.
--- lxd-4.6.orig/lxd/api_storage_pools_test.go
+++ lxd-4.6/lxd/api_storage_pools_test.go
@@ -3,7 +3,7 @@ package main
 import (
 	"testing"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/apparmor/apparmor.go
+++ lxd-4.6/lxd/apparmor/apparmor.go
@@ -11,9 +11,9 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/version"
 )
 
 const (
--- lxd-4.6.orig/lxd/apparmor/instance.go
+++ lxd-4.6/lxd/apparmor/instance.go
@@ -7,12 +7,12 @@ import (
 	"path/filepath"
 	"strings"
 
-	"github.com/lxc/lxd/lxd/cgroup"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/cgroup"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
 )
 
 // Internal copy of the instance interface.
--- lxd-4.6.orig/lxd/apparmor/instance_forkproxy.go
+++ lxd-4.6/lxd/apparmor/instance_forkproxy.go
@@ -8,11 +8,11 @@ import (
 	"strings"
 	"text/template"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
 )
 
 // Internal copy of the device interface.
--- lxd-4.6.orig/lxd/apparmor/network.go
+++ lxd-4.6/lxd/apparmor/network.go
@@ -5,7 +5,7 @@ import (
 	"os"
 	"path/filepath"
 
-	"github.com/lxc/lxd/lxd/state"
+	"lxc/lxd/lxd/state"
 )
 
 // Internal copy of the network interface.
--- lxd-4.6.orig/lxd/apparmor/network_dnsmasq.go
+++ lxd-4.6/lxd/apparmor/network_dnsmasq.go
@@ -5,8 +5,8 @@ import (
 	"strings"
 	"text/template"
 
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
 )
 
 var dnsmasqProfileTpl = template.Must(template.New("dnsmasqProfile").Parse(`#include <tunables/global>
--- lxd-4.6.orig/lxd/apparmor/network_forkdns.go
+++ lxd-4.6/lxd/apparmor/network_forkdns.go
@@ -6,9 +6,9 @@ import (
 	"strings"
 	"text/template"
 
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
 )
 
 var forkdnsProfileTpl = template.Must(template.New("forkdnsProfile").Parse(`#include <tunables/global>
--- lxd-4.6.orig/lxd/backup.go
+++ lxd-4.6/lxd/backup.go
@@ -12,24 +12,24 @@ import (
 	"github.com/pkg/errors"
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/lxd/backup"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/state"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	"github.com/lxc/lxd/lxd/task"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/idmap"
-	"github.com/lxc/lxd/shared/instancewriter"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/logging"
+	"lxc/lxd/lxd/backup"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/state"
+	storagePools "lxc/lxd/lxd/storage"
+	"lxc/lxd/lxd/task"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/idmap"
+	"lxc/lxd/shared/instancewriter"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logging"
 )
 
 // Create a new backup.
--- lxd-4.6.orig/lxd/backup/backup.go
+++ lxd-4.6/lxd/backup/backup.go
@@ -11,10 +11,10 @@ import (
 	"github.com/pkg/errors"
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 // Instance represents the backup relevant subset of a LXD instance.
--- lxd-4.6.orig/lxd/backup/backup_instance_config.go
+++ lxd-4.6/lxd/backup/backup_instance_config.go
@@ -8,9 +8,9 @@ import (
 
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 // InstanceConfig represents the config of an instance that can be stored in a backup.yaml file.
--- lxd-4.6.orig/lxd/certificates.go
+++ lxd-4.6/lxd/certificates.go
@@ -12,17 +12,17 @@ import (
 	"github.com/gorilla/mux"
 	"github.com/pkg/errors"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/version"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/version"
 
-	log "github.com/lxc/lxd/shared/log15"
+	log "lxc/lxd/shared/log15"
 )
 
 var certificatesCmd = APIEndpoint{
--- lxd-4.6.orig/lxd/cgroup/init.go
+++ lxd-4.6/lxd/cgroup/init.go
@@ -6,8 +6,8 @@ import (
 	"path/filepath"
 	"strings"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 )
 
 var cgControllers = map[string]Backend{}
--- lxd-4.6.orig/lxd/cluster/config.go
+++ lxd-4.6/lxd/cluster/config.go
@@ -13,8 +13,8 @@ import (
 	"github.com/pkg/errors"
 	"golang.org/x/crypto/scrypt"
 
-	"github.com/lxc/lxd/lxd/config"
-	"github.com/lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/config"
+	"lxc/lxd/lxd/db"
 )
 
 // Config holds cluster-wide configuration values.
--- lxd-4.6.orig/lxd/cluster/config_test.go
+++ lxd-4.6/lxd/cluster/config_test.go
@@ -3,8 +3,8 @@ package cluster_test
 import (
 	"testing"
 
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/cluster/connect.go
+++ lxd-4.6/lxd/cluster/connect.go
@@ -10,12 +10,12 @@ import (
 
 	"github.com/pkg/errors"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/version"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/version"
 )
 
 // UserAgentNotifier used to distinguish between a regular client request and an internal cluster request when
--- lxd-4.6.orig/lxd/cluster/events.go
+++ lxd-4.6/lxd/cluster/events.go
@@ -5,13 +5,13 @@ import (
 	"sync"
 	"time"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/endpoints"
-	"github.com/lxc/lxd/lxd/task"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/endpoints"
+	"lxc/lxd/lxd/task"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
 )
 
 var listeners = map[string]*lxd.EventListener{}
--- lxd-4.6.orig/lxd/cluster/gateway.go
+++ lxd-4.6/lxd/cluster/gateway.go
@@ -21,10 +21,10 @@ import (
 
 	dqlite "github.com/canonical/go-dqlite"
 	client "github.com/canonical/go-dqlite/client"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/cluster/gateway_export_test.go
+++ lxd-4.6/lxd/cluster/gateway_export_test.go
@@ -1,8 +1,8 @@
 package cluster
 
 import (
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/shared"
 )
 
 // IsLeader returns true if this node is the leader.
--- lxd-4.6.orig/lxd/cluster/gateway_test.go
+++ lxd-4.6/lxd/cluster/gateway_test.go
@@ -12,10 +12,10 @@ import (
 	"testing"
 
 	"github.com/canonical/go-dqlite/driver"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logging"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logging"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/cluster/heartbeat.go
+++ lxd-4.6/lxd/cluster/heartbeat.go
@@ -10,10 +10,10 @@ import (
 	"sync"
 	"time"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/task"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/task"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/cluster/heartbeat_test.go
+++ lxd-4.6/lxd/cluster/heartbeat_test.go
@@ -8,12 +8,12 @@ import (
 	"time"
 
 	"github.com/canonical/go-dqlite/driver"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/osarch"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/osarch"
+	"lxc/lxd/shared/version"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/cluster/info.go
+++ lxd-4.6/lxd/cluster/info.go
@@ -5,11 +5,11 @@ import (
 	"os"
 	"path/filepath"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/node"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/node"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/cluster/membership.go
+++ lxd-4.6/lxd/cluster/membership.go
@@ -9,17 +9,17 @@ import (
 
 	"github.com/canonical/go-dqlite/app"
 	"github.com/canonical/go-dqlite/client"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/db/cluster"
-	"github.com/lxc/lxd/lxd/node"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/osarch"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db/cluster"
+	"lxc/lxd/lxd/node"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/osarch"
+	"lxc/lxd/shared/version"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/cluster/membership_test.go
+++ lxd-4.6/lxd/cluster/membership_test.go
@@ -13,13 +13,13 @@ import (
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/osarch"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/osarch"
+	"lxc/lxd/shared/version"
 )
 
 func TestBootstrap_UnmetPreconditions(t *testing.T) {
--- lxd-4.6.orig/lxd/cluster/migrate.go
+++ lxd-4.6/lxd/cluster/migrate.go
@@ -9,8 +9,8 @@ import (
 	"strconv"
 
 	"github.com/hashicorp/go-msgpack/codec"
-	"github.com/lxc/lxd/lxd/cluster/raft"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/cluster/raft"
+	"lxc/lxd/shared"
 	"github.com/pkg/errors"
 	bolt "go.etcd.io/bbolt"
 )
--- lxd-4.6.orig/lxd/cluster/migrate_test.go
+++ lxd-4.6/lxd/cluster/migrate_test.go
@@ -9,8 +9,8 @@ import (
 
 	dqlite "github.com/canonical/go-dqlite"
 	"github.com/canonical/go-dqlite/driver"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/shared"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/cluster/notify.go
+++ lxd-4.6/lxd/cluster/notify.go
@@ -6,12 +6,12 @@ import (
 	"sync"
 	"time"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/node"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/node"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/cluster/notify_test.go
+++ lxd-4.6/lxd/cluster/notify_test.go
@@ -7,14 +7,14 @@ import (
 	"testing"
 	"time"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/node"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/node"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/cluster/raft_test.go
+++ lxd-4.6/lxd/cluster/raft_test.go
@@ -6,9 +6,9 @@ import (
 	"testing"
 
 	"github.com/canonical/go-dqlite/client"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
 	"github.com/stretchr/testify/require"
 )
 
--- lxd-4.6.orig/lxd/cluster/recover.go
+++ lxd-4.6/lxd/cluster/recover.go
@@ -8,8 +8,8 @@ import (
 
 	dqlite "github.com/canonical/go-dqlite"
 	client "github.com/canonical/go-dqlite/client"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/node"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/node"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/cluster/resolve.go
+++ lxd-4.6/lxd/cluster/resolve.go
@@ -3,7 +3,7 @@ package cluster
 import (
 	"fmt"
 
-	"github.com/lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db"
 )
 
 // ResolveTarget is a convenience for handling the value ?targetNode query
--- lxd-4.6.orig/lxd/cluster/tls.go
+++ lxd-4.6/lxd/cluster/tls.go
@@ -6,8 +6,8 @@ import (
 	"fmt"
 	"net/http"
 
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
 )
 
 // Return a TLS configuration suitable for establishing inter-node network
--- lxd-4.6.orig/lxd/cluster/upgrade.go
+++ lxd-4.6/lxd/cluster/upgrade.go
@@ -8,12 +8,12 @@ import (
 	"os"
 	"time"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/cluster/upgrade_test.go
+++ lxd-4.6/lxd/cluster/upgrade_test.go
@@ -10,10 +10,10 @@ import (
 	"time"
 
 	"github.com/canonical/go-dqlite/driver"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/config/map.go
+++ lxd-4.6/lxd/config/map.go
@@ -6,7 +6,7 @@ import (
 	"sort"
 	"strconv"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // Map is a structured map of config keys to config values.
--- lxd-4.6.orig/lxd/config/map_test.go
+++ lxd-4.6/lxd/config/map_test.go
@@ -5,7 +5,7 @@ import (
 	"strings"
 	"testing"
 
-	"github.com/lxc/lxd/lxd/config"
+	"lxc/lxd/lxd/config"
 	"github.com/mpvl/subtest"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
--- lxd-4.6.orig/lxd/config/safe.go
+++ lxd-4.6/lxd/config/safe.go
@@ -3,9 +3,9 @@ package config
 import (
 	"fmt"
 
-	log "github.com/lxc/lxd/shared/log15"
+	log "lxc/lxd/shared/log15"
 
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logger"
 )
 
 // SafeLoad is a wrapper around Load() that does not error when invalid keys
--- lxd-4.6.orig/lxd/config/safe_test.go
+++ lxd-4.6/lxd/config/safe_test.go
@@ -6,7 +6,7 @@ import (
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 
-	"github.com/lxc/lxd/lxd/config"
+	"lxc/lxd/lxd/config"
 )
 
 // If the givne values contain invalid keys, they are ignored.
--- lxd-4.6.orig/lxd/config/schema.go
+++ lxd-4.6/lxd/config/schema.go
@@ -6,7 +6,7 @@ import (
 	"strconv"
 	"strings"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // Schema defines the available keys of a config Map, along with the types
--- lxd-4.6.orig/lxd/config/schema_test.go
+++ lxd-4.6/lxd/config/schema_test.go
@@ -3,7 +3,7 @@ package config_test
 import (
 	"testing"
 
-	"github.com/lxc/lxd/lxd/config"
+	"lxc/lxd/lxd/config"
 	"github.com/stretchr/testify/assert"
 )
 
--- lxd-4.6.orig/lxd/config/validators_test.go
+++ lxd-4.6/lxd/config/validators_test.go
@@ -3,7 +3,7 @@ package config_test
 import (
 	"testing"
 
-	"github.com/lxc/lxd/lxd/config"
+	"lxc/lxd/lxd/config"
 	"github.com/stretchr/testify/assert"
 )
 
--- lxd-4.6.orig/lxd/daemon.go
+++ lxd-4.6/lxd/daemon.go
@@ -29,34 +29,34 @@ import (
 	"gopkg.in/macaroon-bakery.v2/bakery/identchecker"
 	"gopkg.in/macaroon-bakery.v2/httpbakery"
 
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/daemon"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/device"
-	"github.com/lxc/lxd/lxd/endpoints"
-	"github.com/lxc/lxd/lxd/events"
-	"github.com/lxc/lxd/lxd/firewall"
-	"github.com/lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/daemon"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/device"
+	"lxc/lxd/lxd/endpoints"
+	"lxc/lxd/lxd/events"
+	"lxc/lxd/lxd/firewall"
+	"lxc/lxd/lxd/instance"
 
 	// Import instance/drivers without name so init() runs.
-	_ "github.com/lxc/lxd/lxd/instance/drivers"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/maas"
-	"github.com/lxc/lxd/lxd/node"
-	"github.com/lxc/lxd/lxd/rbac"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/seccomp"
-	"github.com/lxc/lxd/lxd/state"
-	storageDrivers "github.com/lxc/lxd/lxd/storage/drivers"
-	"github.com/lxc/lxd/lxd/sys"
-	"github.com/lxc/lxd/lxd/task"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/idmap"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/version"
+	_ "lxc/lxd/lxd/instance/drivers"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/maas"
+	"lxc/lxd/lxd/node"
+	"lxc/lxd/lxd/rbac"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/seccomp"
+	"lxc/lxd/lxd/state"
+	storageDrivers "lxc/lxd/lxd/storage/drivers"
+	"lxc/lxd/lxd/sys"
+	"lxc/lxd/lxd/task"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/idmap"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/version"
 
-	log "github.com/lxc/lxd/shared/log15"
+	log "lxc/lxd/shared/log15"
 )
 
 // A Daemon can respond to requests from a shared client.
--- lxd-4.6.orig/lxd/daemon_config.go
+++ lxd-4.6/lxd/daemon_config.go
@@ -1,11 +1,11 @@
 package main
 
 import (
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/node"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/node"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
 )
 
 func daemonConfigRender(state *state.State) (map[string]interface{}, error) {
--- lxd-4.6.orig/lxd/daemon_images.go
+++ lxd-4.6/lxd/daemon_images.go
@@ -12,20 +12,20 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/cancel"
-	"github.com/lxc/lxd/shared/ioprogress"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/units"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/client"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/cancel"
+	"lxc/lxd/shared/ioprogress"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/units"
+	"lxc/lxd/shared/version"
 
-	log "github.com/lxc/lxd/shared/log15"
+	log "lxc/lxd/shared/log15"
 )
 
 var imagesDownloading = map[string]chan bool{}
--- lxd-4.6.orig/lxd/daemon_integration_test.go
+++ lxd-4.6/lxd/daemon_integration_test.go
@@ -4,10 +4,10 @@ import (
 	"testing"
 	"time"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/sys"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logging"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/sys"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logging"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/daemon_storage.go
+++ lxd-4.6/lxd/daemon_storage.go
@@ -9,14 +9,14 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/node"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/rsync"
-	"github.com/lxc/lxd/lxd/state"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	storageDrivers "github.com/lxc/lxd/lxd/storage/drivers"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/node"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/rsync"
+	"lxc/lxd/lxd/state"
+	storagePools "lxc/lxd/lxd/storage"
+	storageDrivers "lxc/lxd/lxd/storage/drivers"
+	"lxc/lxd/shared"
 )
 
 func daemonStorageMount(s *state.State) error {
--- lxd-4.6.orig/lxd/db/backups.go
+++ lxd-4.6/lxd/db/backups.go
@@ -7,9 +7,9 @@ import (
 	"fmt"
 	"time"
 
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logger"
 
-	log "github.com/lxc/lxd/shared/log15"
+	log "lxc/lxd/shared/log15"
 )
 
 // InstanceBackup is a value object holding all db-related details about a backup.
--- lxd-4.6.orig/lxd/db/certificates.mapper.go
+++ lxd-4.6/lxd/db/certificates.mapper.go
@@ -7,9 +7,9 @@ package db
 import (
 	"database/sql"
 	"fmt"
-	"github.com/lxc/lxd/lxd/db/cluster"
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/db/cluster"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/shared/api"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/db/certificates_test.go
+++ lxd-4.6/lxd/db/certificates_test.go
@@ -8,7 +8,7 @@ import (
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 
-	"github.com/lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db"
 )
 
 func TestGetCertificate(t *testing.T) {
--- lxd-4.6.orig/lxd/db/cluster/constants.go
+++ lxd-4.6/lxd/db/cluster/constants.go
@@ -4,7 +4,7 @@ import (
 	"fmt"
 	"strings"
 
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/shared/version"
 )
 
 // Numeric type codes identifying different kind of entities.
--- lxd-4.6.orig/lxd/db/cluster/open.go
+++ lxd-4.6/lxd/db/cluster/open.go
@@ -7,13 +7,13 @@ import (
 	"sync/atomic"
 
 	driver "github.com/canonical/go-dqlite/driver"
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/lxd/db/schema"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/osarch"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/db/schema"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/osarch"
+	"lxc/lxd/shared/version"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/db/cluster/open_test.go
+++ lxd-4.6/lxd/db/cluster/open_test.go
@@ -8,10 +8,10 @@ import (
 	"path/filepath"
 	"testing"
 
-	"github.com/lxc/lxd/lxd/db/cluster"
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/shared/osarch"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/db/cluster"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/shared/osarch"
+	"lxc/lxd/shared/version"
 	"github.com/mpvl/subtest"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
--- lxd-4.6.orig/lxd/db/cluster/query.go
+++ lxd-4.6/lxd/db/cluster/query.go
@@ -4,7 +4,7 @@ import (
 	"database/sql"
 	"fmt"
 
-	"github.com/lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/db/query"
 )
 
 // Update the schema and api_extensions columns of the row in the nodes table
--- lxd-4.6.orig/lxd/db/cluster/update.go
+++ lxd-4.6/lxd/db/cluster/update.go
@@ -7,11 +7,11 @@ import (
 	"strings"
 	"time"
 
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/lxd/db/schema"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/osarch"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/db/schema"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/osarch"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/db/cluster/update_test.go
+++ lxd-4.6/lxd/db/cluster/update_test.go
@@ -6,9 +6,9 @@ import (
 	"testing"
 	"time"
 
-	"github.com/lxc/lxd/lxd/db/cluster"
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/shared/osarch"
+	"lxc/lxd/lxd/db/cluster"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/shared/osarch"
 	"github.com/mattn/go-sqlite3"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
--- lxd-4.6.orig/lxd/db/config.go
+++ lxd-4.6/lxd/db/config.go
@@ -2,7 +2,7 @@
 
 package db
 
-import "github.com/lxc/lxd/lxd/db/query"
+import "lxc/lxd/lxd/db/query"
 
 // Config fetches all LXD node-level config keys.
 func (n *NodeTx) Config() (map[string]string, error) {
--- lxd-4.6.orig/lxd/db/config_test.go
+++ lxd-4.6/lxd/db/config_test.go
@@ -5,7 +5,7 @@ package db_test
 import (
 	"testing"
 
-	"github.com/lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/db/db.go
+++ lxd-4.6/lxd/db/db.go
@@ -13,11 +13,11 @@ import (
 	"github.com/canonical/go-dqlite/driver"
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db/cluster"
-	"github.com/lxc/lxd/lxd/db/node"
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/db/cluster"
+	"lxc/lxd/lxd/db/node"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 )
 
 // Node mediates access to LXD's data stored in the node-local SQLite database.
--- lxd-4.6.orig/lxd/db/db_internal_test.go
+++ lxd-4.6/lxd/db/db_internal_test.go
@@ -9,9 +9,9 @@ import (
 
 	"github.com/stretchr/testify/suite"
 
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/logging"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logging"
 )
 
 const fixtures string = `
--- lxd-4.6.orig/lxd/db/db_test.go
+++ lxd-4.6/lxd/db/db_test.go
@@ -5,8 +5,8 @@ package db_test
 import (
 	"testing"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db/query"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/db/images.go
+++ lxd-4.6/lxd/db/images.go
@@ -10,10 +10,10 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/osarch"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/osarch"
 )
 
 // Code generation directives.
--- lxd-4.6.orig/lxd/db/images.mapper.go
+++ lxd-4.6/lxd/db/images.mapper.go
@@ -7,9 +7,9 @@ package db
 import (
 	"database/sql"
 	"fmt"
-	"github.com/lxc/lxd/lxd/db/cluster"
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/db/cluster"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/shared/api"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/db/images_test.go
+++ lxd-4.6/lxd/db/images_test.go
@@ -6,7 +6,7 @@ import (
 	"testing"
 	"time"
 
-	"github.com/lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/db/instances.go
+++ lxd-4.6/lxd/db/instances.go
@@ -9,12 +9,12 @@ import (
 	"strings"
 	"time"
 
-	"github.com/lxc/lxd/lxd/db/query"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/db/query"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/db/instances.mapper.go
+++ lxd-4.6/lxd/db/instances.mapper.go
@@ -7,9 +7,9 @@ package db
 import (
 	"database/sql"
 	"fmt"
-	"github.com/lxc/lxd/lxd/db/cluster"
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/db/cluster"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/shared/api"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/db/instances_test.go
+++ lxd-4.6/lxd/db/instances_test.go
@@ -9,9 +9,9 @@ import (
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/shared/api"
 )
 
 func TestContainerList(t *testing.T) {
--- lxd-4.6.orig/lxd/db/legacy.go
+++ lxd-4.6/lxd/db/legacy.go
@@ -5,7 +5,7 @@ package db
 import (
 	"database/sql"
 
-	"github.com/lxc/lxd/lxd/db/schema"
+	"lxc/lxd/lxd/db/schema"
 )
 
 // LegacyPatch is a "database" update that performs non-database work. They
--- lxd-4.6.orig/lxd/db/migration.go
+++ lxd-4.6/lxd/db/migration.go
@@ -7,9 +7,9 @@ import (
 	"fmt"
 	"strings"
 
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/db/migration_test.go
+++ lxd-4.6/lxd/db/migration_test.go
@@ -13,9 +13,9 @@ import (
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/project"
 )
 
 func TestLoadPreClusteringData(t *testing.T) {
--- lxd-4.6.orig/lxd/db/networks.go
+++ lxd-4.6/lxd/db/networks.go
@@ -9,9 +9,9 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 // GetNetworksLocalConfig returns a map associating each network name to its
--- lxd-4.6.orig/lxd/db/networks_test.go
+++ lxd-4.6/lxd/db/networks_test.go
@@ -8,8 +8,8 @@ import (
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/project"
 )
 
 // The GetNetworksLocalConfigs method returns only node-specific config values.
--- lxd-4.6.orig/lxd/db/node.go
+++ lxd-4.6/lxd/db/node.go
@@ -11,12 +11,12 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db/cluster"
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/osarch"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/db/cluster"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/osarch"
+	"lxc/lxd/shared/version"
 )
 
 // ClusterRole represents the role of a member in a cluster.
--- lxd-4.6.orig/lxd/db/node/open.go
+++ lxd-4.6/lxd/db/node/open.go
@@ -5,9 +5,9 @@ import (
 	"fmt"
 	"path/filepath"
 
-	"github.com/lxc/lxd/lxd/db/schema"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/db/schema"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 )
 
 // Open the node-local database object.
--- lxd-4.6.orig/lxd/db/node/open_test.go
+++ lxd-4.6/lxd/db/node/open_test.go
@@ -6,7 +6,7 @@ import (
 	"os"
 	"testing"
 
-	"github.com/lxc/lxd/lxd/db/node"
+	"lxc/lxd/lxd/db/node"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/db/node/update.go
+++ lxd-4.6/lxd/db/node/update.go
@@ -10,11 +10,11 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/lxd/db/schema"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/db/schema"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/units"
 )
 
 // Schema for the local database.
--- lxd-4.6.orig/lxd/db/node/update_test.go
+++ lxd-4.6/lxd/db/node/update_test.go
@@ -4,9 +4,9 @@ import (
 	"database/sql"
 	"testing"
 
-	"github.com/lxc/lxd/lxd/db/node"
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/db/node"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/shared"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/db/node_test.go
+++ lxd-4.6/lxd/db/node_test.go
@@ -6,10 +6,10 @@ import (
 	"testing"
 	"time"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/db/cluster"
-	"github.com/lxc/lxd/shared/osarch"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db/cluster"
+	"lxc/lxd/shared/osarch"
+	"lxc/lxd/shared/version"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/db/operations.go
+++ lxd-4.6/lxd/db/operations.go
@@ -5,7 +5,7 @@ package db
 import (
 	"fmt"
 
-	"github.com/lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/db/query"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/db/operations_test.go
+++ lxd-4.6/lxd/db/operations_test.go
@@ -5,7 +5,7 @@ package db_test
 import (
 	"testing"
 
-	"github.com/lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/db/patches.go
+++ lxd-4.6/lxd/db/patches.go
@@ -5,7 +5,7 @@ package db
 import (
 	"database/sql"
 
-	"github.com/lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/db/query"
 )
 
 // GetAppliedPatches returns the names of all patches currently applied on this node.
--- lxd-4.6.orig/lxd/db/profiles.go
+++ lxd-4.6/lxd/db/profiles.go
@@ -5,8 +5,8 @@ package db
 import (
 	"fmt"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/shared/api"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/shared/api"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/db/profiles.mapper.go
+++ lxd-4.6/lxd/db/profiles.mapper.go
@@ -7,9 +7,9 @@ package db
 import (
 	"database/sql"
 	"fmt"
-	"github.com/lxc/lxd/lxd/db/cluster"
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/db/cluster"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/shared/api"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/db/projects.go
+++ lxd-4.6/lxd/db/projects.go
@@ -8,9 +8,9 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 // Code generation directives.
--- lxd-4.6.orig/lxd/db/projects.mapper.go
+++ lxd-4.6/lxd/db/projects.mapper.go
@@ -7,9 +7,9 @@ package db
 import (
 	"database/sql"
 	"fmt"
-	"github.com/lxc/lxd/lxd/db/cluster"
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/db/cluster"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/shared/api"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/db/projects_test.go
+++ lxd-4.6/lxd/db/projects_test.go
@@ -5,7 +5,7 @@ package db_test
 import (
 	"testing"
 
-	"github.com/lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/db/query/config_test.go
+++ lxd-4.6/lxd/db/query/config_test.go
@@ -4,7 +4,7 @@ import (
 	"database/sql"
 	"testing"
 
-	"github.com/lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/db/query"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/db/query/count_test.go
+++ lxd-4.6/lxd/db/query/count_test.go
@@ -5,7 +5,7 @@ import (
 	"strconv"
 	"testing"
 
-	"github.com/lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/db/query"
 	"github.com/mpvl/subtest"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
--- lxd-4.6.orig/lxd/db/query/dump_test.go
+++ lxd-4.6/lxd/db/query/dump_test.go
@@ -5,7 +5,7 @@ import (
 	"sort"
 	"testing"
 
-	"github.com/lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/db/query"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/db/query/objects_test.go
+++ lxd-4.6/lxd/db/query/objects_test.go
@@ -4,7 +4,7 @@ import (
 	"database/sql"
 	"testing"
 
-	"github.com/lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/db/query"
 	"github.com/mpvl/subtest"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
--- lxd-4.6.orig/lxd/db/query/retry.go
+++ lxd-4.6/lxd/db/query/retry.go
@@ -8,7 +8,7 @@ import (
 	"github.com/mattn/go-sqlite3"
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logger"
 )
 
 // Retry wraps a function that interacts with the database, and retries it in
--- lxd-4.6.orig/lxd/db/query/slices_test.go
+++ lxd-4.6/lxd/db/query/slices_test.go
@@ -8,8 +8,8 @@ import (
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/shared/subtest"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/shared/subtest"
 )
 
 func TestSelectURIs(t *testing.T) {
--- lxd-4.6.orig/lxd/db/query/transaction.go
+++ lxd-4.6/lxd/db/query/transaction.go
@@ -3,7 +3,7 @@ package query
 import (
 	"database/sql"
 
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logger"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/db/query/transaction_test.go
+++ lxd-4.6/lxd/db/query/transaction_test.go
@@ -5,7 +5,7 @@ import (
 	"fmt"
 	"testing"
 
-	"github.com/lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/db/query"
 	"github.com/stretchr/testify/assert"
 )
 
--- lxd-4.6.orig/lxd/db/raft.go
+++ lxd-4.6/lxd/db/raft.go
@@ -6,7 +6,7 @@ import (
 	"fmt"
 
 	"github.com/canonical/go-dqlite/client"
-	"github.com/lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/db/query"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/db/raft_test.go
+++ lxd-4.6/lxd/db/raft_test.go
@@ -5,7 +5,7 @@ package db_test
 import (
 	"testing"
 
-	"github.com/lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/db/schema/query.go
+++ lxd-4.6/lxd/db/schema/query.go
@@ -6,8 +6,8 @@ import (
 	"io/ioutil"
 	"os"
 
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/shared"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/db/schema/schema.go
+++ lxd-4.6/lxd/db/schema/schema.go
@@ -6,8 +6,8 @@ import (
 	"sort"
 	"strings"
 
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/shared"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/db/schema/schema_test.go
+++ lxd-4.6/lxd/db/schema/schema_test.go
@@ -9,9 +9,9 @@ import (
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/lxd/db/schema"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/db/schema"
+	"lxc/lxd/shared"
 )
 
 // Create a new Schema by specifying an explicit map from versions to Update
--- lxd-4.6.orig/lxd/db/schema/update_test.go
+++ lxd-4.6/lxd/db/schema/update_test.go
@@ -6,8 +6,8 @@ import (
 
 	"github.com/stretchr/testify/require"
 
-	"github.com/lxc/lxd/lxd/db/schema"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/db/schema"
+	"lxc/lxd/shared"
 )
 
 // A Go source file matching the given prefix is created in the calling
--- lxd-4.6.orig/lxd/db/snapshots.go
+++ lxd-4.6/lxd/db/snapshots.go
@@ -6,7 +6,7 @@ import (
 	"fmt"
 	"time"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // Code generation directives.
--- lxd-4.6.orig/lxd/db/snapshots.mapper.go
+++ lxd-4.6/lxd/db/snapshots.mapper.go
@@ -7,9 +7,9 @@ package db
 import (
 	"database/sql"
 	"fmt"
-	"github.com/lxc/lxd/lxd/db/cluster"
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/db/cluster"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/shared/api"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/db/snapshots_test.go
+++ lxd-4.6/lxd/db/snapshots_test.go
@@ -9,9 +9,9 @@ import (
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/shared/api"
 )
 
 func TestGetInstanceSnapshots(t *testing.T) {
--- lxd-4.6.orig/lxd/db/storage_pools.go
+++ lxd-4.6/lxd/db/storage_pools.go
@@ -10,9 +10,9 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 // StorageRemoteDriverNames returns a list of remote storage driver names.
--- lxd-4.6.orig/lxd/db/storage_pools_export_test.go
+++ lxd-4.6/lxd/db/storage_pools_export_test.go
@@ -2,7 +2,7 @@
 
 package db
 
-import "github.com/lxc/lxd/shared/api"
+import "lxc/lxd/shared/api"
 
 func (c *Cluster) GetStoragePoolVolume(project string, volumeName string, volumeType int, poolID, nodeID int64) (int64, *api.StorageVolume, error) {
 	return c.storagePoolVolumeGetType(project, volumeName, volumeType, poolID, nodeID)
--- lxd-4.6.orig/lxd/db/storage_pools_test.go
+++ lxd-4.6/lxd/db/storage_pools_test.go
@@ -6,7 +6,7 @@ import (
 	"testing"
 	"time"
 
-	"github.com/lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/db/storage_volume_snapshots.go
+++ lxd-4.6/lxd/db/storage_volume_snapshots.go
@@ -10,7 +10,7 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // CreateStorageVolumeSnapshot creates a new storage volume snapshot attached to a given
--- lxd-4.6.orig/lxd/db/storage_volumes.go
+++ lxd-4.6/lxd/db/storage_volumes.go
@@ -9,9 +9,9 @@ import (
 	"strings"
 	"time"
 
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/db/storage_volumes_test.go
+++ lxd-4.6/lxd/db/storage_volumes_test.go
@@ -5,7 +5,7 @@ package db_test
 import (
 	"testing"
 
-	"github.com/lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/device/device_common.go
+++ lxd-4.6/lxd/device/device_common.go
@@ -3,12 +3,12 @@ package device
 import (
 	"fmt"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/state"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/logging"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/state"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logging"
 )
 
 // deviceCommon represents the common struct for all devices.
--- lxd-4.6.orig/lxd/device/device_interface.go
+++ lxd-4.6/lxd/device/device_interface.go
@@ -1,9 +1,9 @@
 package device
 
 import (
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/state"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/state"
 )
 
 // VolatileSetter is a function that accepts one or more key/value strings to save into the LXD
--- lxd-4.6.orig/lxd/device/device_load.go
+++ lxd-4.6/lxd/device/device_load.go
@@ -3,10 +3,10 @@ package device
 import (
 	"fmt"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/device/nictype"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/state"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/device/nictype"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/state"
 )
 
 // load instantiates a device and initialises its internal state. It does not validate the config supplied.
--- lxd-4.6.orig/lxd/device/device_utils_disk.go
+++ lxd-4.6/lxd/device/device_utils_disk.go
@@ -10,7 +10,7 @@ import (
 
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // BlockFsDetect detects the type of block device.
--- lxd-4.6.orig/lxd/device/device_utils_generic.go
+++ lxd-4.6/lxd/device/device_utils_generic.go
@@ -11,8 +11,8 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/shared"
 )
 
 // deviceJoinPath joins together prefix and text delimited by a "." for device path generation.
--- lxd-4.6.orig/lxd/device/device_utils_infiniband.go
+++ lxd-4.6/lxd/device/device_utils_infiniband.go
@@ -5,9 +5,9 @@ import (
 	"net"
 	"strings"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared/api"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared/api"
 )
 
 // IBDevPrefix Infiniband devices prefix.
--- lxd-4.6.orig/lxd/device/device_utils_inotify.go
+++ lxd-4.6/lxd/device/device_utils_inotify.go
@@ -8,11 +8,11 @@ import (
 
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/lxd/sys"
-	"github.com/lxc/lxd/shared"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/lxd/sys"
+	"lxc/lxd/shared"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
 )
 
 const inotifyBatchInEvents uint = 100
--- lxd-4.6.orig/lxd/device/device_utils_instance.go
+++ lxd-4.6/lxd/device/device_utils_instance.go
@@ -4,10 +4,10 @@ import (
 	"fmt"
 	"sync"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/state"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/state"
 )
 
 // reservedDevicesMutex used to coordinate access for checking reserved devices.
--- lxd-4.6.orig/lxd/device/device_utils_network.go
+++ lxd-4.6/lxd/device/device_utils_network.go
@@ -10,19 +10,19 @@ import (
 
 	"github.com/pkg/errors"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/device/nictype"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/network"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/units"
-	"github.com/lxc/lxd/shared/validate"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/device/nictype"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/network"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/units"
+	"lxc/lxd/shared/validate"
 )
 
 // Instances can be started in parallel, so lock the creation of VLANs.
--- lxd-4.6.orig/lxd/device/device_utils_proxy.go
+++ lxd-4.6/lxd/device/device_utils_proxy.go
@@ -6,9 +6,9 @@ import (
 	"strconv"
 	"strings"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/validate"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/validate"
 )
 
 // ProxyParseAddr validates a proxy address and parses it into its constituent parts.
--- lxd-4.6.orig/lxd/device/device_utils_unix.go
+++ lxd-4.6/lxd/device/device_utils_unix.go
@@ -10,12 +10,12 @@ import (
 
 	"golang.org/x/sys/unix"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/state"
-	storageDrivers "github.com/lxc/lxd/lxd/storage/drivers"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/idmap"
-	"github.com/lxc/lxd/shared/logger"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/state"
+	storageDrivers "lxc/lxd/lxd/storage/drivers"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/idmap"
+	"lxc/lxd/shared/logger"
 )
 
 // unixDefaultMode default mode to create unix devices with if not specified in device config.
--- lxd-4.6.orig/lxd/device/device_utils_unix_events.go
+++ lxd-4.6/lxd/device/device_utils_unix_events.go
@@ -6,12 +6,12 @@ import (
 	"strings"
 	"sync"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
 )
 
 // UnixEvent represents the properties of a Unix device inotify event.
--- lxd-4.6.orig/lxd/device/device_utils_unix_hotplug_events.go
+++ lxd-4.6/lxd/device/device_utils_unix_hotplug_events.go
@@ -6,11 +6,11 @@ import (
 	"strings"
 	"sync"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/state"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/state"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
 )
 
 // UnixHotplugEvent represents the properties of a Unix hotplug device uevent.
--- lxd-4.6.orig/lxd/device/device_utils_usb_events.go
+++ lxd-4.6/lxd/device/device_utils_usb_events.go
@@ -7,11 +7,11 @@ import (
 	"strings"
 	"sync"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/state"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/state"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
 )
 
 // USBEvent represents the properties of a USB device uevent.
--- lxd-4.6.orig/lxd/device/disk.go
+++ lxd-4.6/lxd/device/disk.go
@@ -14,22 +14,22 @@ import (
 	"github.com/pkg/errors"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/lxd/cgroup"
-	"github.com/lxc/lxd/lxd/db"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/revert"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	storageDrivers "github.com/lxc/lxd/lxd/storage/drivers"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/idmap"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/subprocess"
-	"github.com/lxc/lxd/shared/units"
-	"github.com/lxc/lxd/shared/validate"
+	"lxc/lxd/lxd/cgroup"
+	"lxc/lxd/lxd/db"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/revert"
+	storagePools "lxc/lxd/lxd/storage"
+	storageDrivers "lxc/lxd/lxd/storage/drivers"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/idmap"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/subprocess"
+	"lxc/lxd/shared/units"
+	"lxc/lxd/shared/validate"
 )
 
 // Special disk "source" value used for generating a VM cloud-init config ISO.
--- lxd-4.6.orig/lxd/device/gpu.go
+++ lxd-4.6/lxd/device/gpu.go
@@ -12,12 +12,12 @@ import (
 	"github.com/pkg/errors"
 	"golang.org/x/sys/unix"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/resources"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/validate"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/resources"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/validate"
 )
 
 const gpuDRIDevPath = "/dev/dri"
--- lxd-4.6.orig/lxd/device/infiniband_physical.go
+++ lxd-4.6/lxd/device/infiniband_physical.go
@@ -3,11 +3,11 @@ package device
 import (
 	"fmt"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/resources"
-	"github.com/lxc/lxd/shared"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/resources"
+	"lxc/lxd/shared"
 )
 
 type infinibandPhysical struct {
--- lxd-4.6.orig/lxd/device/infiniband_sriov.go
+++ lxd-4.6/lxd/device/infiniband_sriov.go
@@ -3,12 +3,12 @@ package device
 import (
 	"fmt"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/resources"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/resources"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 type infinibandSRIOV struct {
--- lxd-4.6.orig/lxd/device/nic.go
+++ lxd-4.6/lxd/device/nic.go
@@ -1,7 +1,7 @@
 package device
 
 import (
-	"github.com/lxc/lxd/shared/validate"
+	"lxc/lxd/shared/validate"
 )
 
 // nicValidationRules returns config validation rules for nic devices.
--- lxd-4.6.orig/lxd/device/nic_bridged.go
+++ lxd-4.6/lxd/device/nic_bridged.go
@@ -15,23 +15,23 @@ import (
 	"github.com/google/gopacket/layers"
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/dnsmasq"
-	"github.com/lxc/lxd/lxd/dnsmasq/dhcpalloc"
-	firewallDrivers "github.com/lxc/lxd/lxd/firewall/drivers"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/network"
-	"github.com/lxc/lxd/lxd/network/openvswitch"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/validate"
+	"lxc/lxd/lxd/db"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/dnsmasq"
+	"lxc/lxd/lxd/dnsmasq/dhcpalloc"
+	firewallDrivers "lxc/lxd/lxd/firewall/drivers"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/network"
+	"lxc/lxd/lxd/network/openvswitch"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/validate"
 )
 
 type nicBridged struct {
--- lxd-4.6.orig/lxd/device/nic_ipvlan.go
+++ lxd-4.6/lxd/device/nic_ipvlan.go
@@ -5,13 +5,13 @@ import (
 	"net"
 	"strings"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/network"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/validate"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/network"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/validate"
 )
 
 const ipvlanModeL3S = "l3s"
--- lxd-4.6.orig/lxd/device/nic_macvlan.go
+++ lxd-4.6/lxd/device/nic_macvlan.go
@@ -5,14 +5,14 @@ import (
 
 	"github.com/pkg/errors"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/network"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/network"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 type nicMACVLAN struct {
--- lxd-4.6.orig/lxd/device/nic_ovn.go
+++ lxd-4.6/lxd/device/nic_ovn.go
@@ -7,19 +7,19 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/cluster"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/dnsmasq/dhcpalloc"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/network"
-	"github.com/lxc/lxd/lxd/network/openvswitch"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	log "github.com/lxc/lxd/shared/log15"
+	"lxc/lxd/lxd/cluster"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/dnsmasq/dhcpalloc"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/network"
+	"lxc/lxd/lxd/network/openvswitch"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	log "lxc/lxd/shared/log15"
 )
 
 type nicOVN struct {
--- lxd-4.6.orig/lxd/device/nic_p2p.go
+++ lxd-4.6/lxd/device/nic_p2p.go
@@ -3,12 +3,12 @@ package device
 import (
 	"fmt"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/network"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/shared"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/network"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/shared"
 )
 
 type nicP2P struct {
--- lxd-4.6.orig/lxd/device/nic_physical.go
+++ lxd-4.6/lxd/device/nic_physical.go
@@ -5,13 +5,13 @@ import (
 
 	"github.com/pkg/errors"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/network"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/network"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
 )
 
 type nicPhysical struct {
--- lxd-4.6.orig/lxd/device/nic_routed.go
+++ lxd-4.6/lxd/device/nic_routed.go
@@ -7,13 +7,13 @@ import (
 
 	"github.com/pkg/errors"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/network"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/validate"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/network"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/validate"
 )
 
 const nicRoutedIPv4GW = "169.254.0.1"
--- lxd-4.6.orig/lxd/device/nic_sriov.go
+++ lxd-4.6/lxd/device/nic_sriov.go
@@ -14,15 +14,15 @@ import (
 
 	"github.com/pkg/errors"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/network"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/network"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 type nicSRIOV struct {
--- lxd-4.6.orig/lxd/device/nictype/nictype.go
+++ lxd-4.6/lxd/device/nictype/nictype.go
@@ -7,9 +7,9 @@ import (
 
 	"github.com/pkg/errors"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/state"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/state"
 )
 
 // NICType resolves the NIC Type for the supplied NIC device config.
--- lxd-4.6.orig/lxd/device/none.go
+++ lxd-4.6/lxd/device/none.go
@@ -1,8 +1,8 @@
 package device
 
 import (
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
 )
 
 type none struct {
--- lxd-4.6.orig/lxd/device/proxy.go
+++ lxd-4.6/lxd/device/proxy.go
@@ -13,17 +13,17 @@ import (
 	"github.com/pkg/errors"
 	liblxc "gopkg.in/lxc/go-lxc.v2"
 
-	"github.com/lxc/lxd/lxd/apparmor"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/device/nictype"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/subprocess"
-	"github.com/lxc/lxd/shared/validate"
+	"lxc/lxd/lxd/apparmor"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/device/nictype"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/subprocess"
+	"lxc/lxd/shared/validate"
 )
 
 type proxy struct {
--- lxd-4.6.orig/lxd/device/unix_common.go
+++ lxd-4.6/lxd/device/unix_common.go
@@ -5,12 +5,12 @@ import (
 	"path/filepath"
 	"strings"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	storageDrivers "github.com/lxc/lxd/lxd/storage/drivers"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/validate"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	storageDrivers "lxc/lxd/lxd/storage/drivers"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/validate"
 )
 
 // unixIsOurDeviceType checks that device file type matches what we are expecting in the config.
--- lxd-4.6.orig/lxd/device/unix_hotplug.go
+++ lxd-4.6/lxd/device/unix_hotplug.go
@@ -8,11 +8,11 @@ import (
 
 	udev "github.com/farjump/go-libudev"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/validate"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/validate"
 )
 
 // unixHotplugIsOurDevice indicates whether the unixHotplug device event qualifies as part of our device.
--- lxd-4.6.orig/lxd/device/usb.go
+++ lxd-4.6/lxd/device/usb.go
@@ -7,11 +7,11 @@ import (
 	"path"
 	"strings"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/validate"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/validate"
 )
 
 // usbDevPath is the path where USB devices can be enumerated.
--- lxd-4.6.orig/lxd/devices.go
+++ lxd-4.6/lxd/devices.go
@@ -12,17 +12,17 @@ import (
 	"golang.org/x/sys/unix"
 
 	// Used by cgo
-	_ "github.com/lxc/lxd/lxd/include"
+	_ "lxc/lxd/lxd/include"
 
-	"github.com/lxc/lxd/lxd/cgroup"
-	"github.com/lxc/lxd/lxd/device"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/resources"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/cgroup"
+	"lxc/lxd/lxd/device"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/resources"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
 )
 
 /*
--- lxd-4.6.orig/lxd/devlxd.go
+++ lxd-4.6/lxd/devlxd.go
@@ -17,16 +17,16 @@ import (
 	"github.com/gorilla/mux"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/lxd/daemon"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/lxd/ucred"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/daemon"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/lxd/ucred"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/version"
 )
 
 // DevLxdServer creates an http.Server capable of handling requests against the
--- lxd-4.6.orig/lxd/devlxd_test.go
+++ lxd-4.6/lxd/devlxd_test.go
@@ -10,8 +10,8 @@ import (
 	"strings"
 	"testing"
 
-	"github.com/lxc/lxd/lxd/sys"
-	"github.com/lxc/lxd/lxd/ucred"
+	"lxc/lxd/lxd/sys"
+	"lxc/lxd/lxd/ucred"
 )
 
 var testDir string
--- lxd-4.6.orig/lxd/dnsmasq/dhcpalloc/dhcpalloc.go
+++ lxd-4.6/lxd/dnsmasq/dhcpalloc/dhcpalloc.go
@@ -12,11 +12,11 @@ import (
 
 	"github.com/mdlayher/netx/eui64"
 
-	"github.com/lxc/lxd/lxd/dnsmasq"
-	"github.com/lxc/lxd/shared"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/logging"
+	"lxc/lxd/lxd/dnsmasq"
+	"lxc/lxd/shared"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logging"
 )
 
 // ErrDHCPNotSupported indicates network doesn't support DHCP for this IP protocol.
--- lxd-4.6.orig/lxd/dnsmasq/dnsmasq.go
+++ lxd-4.6/lxd/dnsmasq/dnsmasq.go
@@ -9,10 +9,10 @@ import (
 	"strings"
 	"sync"
 
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/subprocess"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/subprocess"
+	"lxc/lxd/shared/version"
 )
 
 // DHCPAllocation represents an IP allocation from dnsmasq.
--- lxd-4.6.orig/lxd/endpoints/cluster.go
+++ lxd-4.6/lxd/endpoints/cluster.go
@@ -5,8 +5,8 @@ import (
 	"net"
 	"time"
 
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared/logger"
 )
 
 // ClusterAddress returns the cluster addresss of the cluster endpoint, or an
--- lxd-4.6.orig/lxd/endpoints/devlxd_test.go
+++ lxd-4.6/lxd/endpoints/devlxd_test.go
@@ -3,7 +3,7 @@ package endpoints_test
 import (
 	"testing"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/endpoints/endpoints.go
+++ lxd-4.6/lxd/endpoints/endpoints.go
@@ -7,10 +7,10 @@ import (
 	"sync"
 	"time"
 
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
 	tomb "gopkg.in/tomb.v2"
 )
 
--- lxd-4.6.orig/lxd/endpoints/endpoints_exported_test.go
+++ lxd-4.6/lxd/endpoints/endpoints_exported_test.go
@@ -1,8 +1,8 @@
 package endpoints
 
 import (
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
 )
 
 // New creates a new Endpoints instance without bringing it up.
--- lxd-4.6.orig/lxd/endpoints/endpoints_test.go
+++ lxd-4.6/lxd/endpoints/endpoints_test.go
@@ -12,11 +12,11 @@ import (
 	"strconv"
 	"testing"
 
-	"github.com/lxc/lxd/lxd/endpoints"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logging"
+	"lxc/lxd/lxd/endpoints"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logging"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/endpoints/local_test.go
+++ lxd-4.6/lxd/endpoints/local_test.go
@@ -6,7 +6,7 @@ import (
 	"os"
 	"testing"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/endpoints/network.go
+++ lxd-4.6/lxd/endpoints/network.go
@@ -7,9 +7,9 @@ import (
 	"sync"
 	"time"
 
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/endpoints/network_test.go
+++ lxd-4.6/lxd/endpoints/network_test.go
@@ -4,7 +4,7 @@ import (
 	"net"
 	"testing"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/endpoints/pprof.go
+++ lxd-4.6/lxd/endpoints/pprof.go
@@ -6,8 +6,8 @@ import (
 	"net/http"
 	"time"
 
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared/logger"
 
 	_ "net/http/pprof" // pprof magic
 )
--- lxd-4.6.orig/lxd/endpoints/socket.go
+++ lxd-4.6/lxd/endpoints/socket.go
@@ -8,9 +8,9 @@ import (
 	"os"
 	"strconv"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/client"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 )
 
 // Bind to the given unix socket path.
--- lxd-4.6.orig/lxd/events.go
+++ lxd-4.6/lxd/events.go
@@ -5,10 +5,10 @@ import (
 	"net/http"
 	"strings"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 )
 
 var eventsCmd = APIEndpoint{
--- lxd-4.6.orig/lxd/events/events.go
+++ lxd-4.6/lxd/events/events.go
@@ -10,9 +10,9 @@ import (
 	"github.com/pborman/uuid"
 
 	"github.com/gorilla/websocket"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
 )
 
 // Server represents an instance of an event server.
--- lxd-4.6.orig/lxd/events/logging.go
+++ lxd-4.6/lxd/events/logging.go
@@ -3,9 +3,9 @@ package events
 import (
 	"fmt"
 
-	log "github.com/lxc/lxd/shared/log15"
+	log "lxc/lxd/shared/log15"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 // LoggingServer controls what server to use for messages coming from the logger.
--- lxd-4.6.orig/lxd/filter/clause.go
+++ lxd-4.6/lxd/filter/clause.go
@@ -4,7 +4,7 @@ import (
 	"fmt"
 	"strings"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // Clause is a single filter clause in a filter string.
--- lxd-4.6.orig/lxd/filter/clause_test.go
+++ lxd-4.6/lxd/filter/clause_test.go
@@ -3,7 +3,7 @@ package filter_test
 import (
 	"testing"
 
-	"github.com/lxc/lxd/lxd/filter"
+	"lxc/lxd/lxd/filter"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/filter/match_test.go
+++ lxd-4.6/lxd/filter/match_test.go
@@ -4,8 +4,8 @@ import (
 	"testing"
 	"time"
 
-	"github.com/lxc/lxd/lxd/filter"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/filter"
+	"lxc/lxd/shared/api"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/filter/value_test.go
+++ lxd-4.6/lxd/filter/value_test.go
@@ -4,8 +4,8 @@ import (
 	"testing"
 	"time"
 
-	"github.com/lxc/lxd/lxd/filter"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/filter"
+	"lxc/lxd/shared/api"
 	"github.com/stretchr/testify/assert"
 )
 
--- lxd-4.6.orig/lxd/firewall/drivers/drivers_nftables.go
+++ lxd-4.6/lxd/firewall/drivers/drivers_nftables.go
@@ -13,10 +13,10 @@ import (
 	"github.com/pborman/uuid"
 	"github.com/pkg/errors"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/version"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/version"
 )
 
 const nftablesNamespace = "lxd"
--- lxd-4.6.orig/lxd/firewall/drivers/drivers_xtables.go
+++ lxd-4.6/lxd/firewall/drivers/drivers_xtables.go
@@ -10,11 +10,11 @@ import (
 	"strconv"
 	"strings"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 )
 
 // Xtables is an implmentation of LXD firewall using {ip, ip6, eb}tables
--- lxd-4.6.orig/lxd/firewall/firewall_interface.go
+++ lxd-4.6/lxd/firewall/firewall_interface.go
@@ -3,7 +3,7 @@ package firewall
 import (
 	"net"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
+	deviceConfig "lxc/lxd/lxd/device/config"
 )
 
 // Firewall represents an LXD firewall.
--- lxd-4.6.orig/lxd/firewall/firewall_load.go
+++ lxd-4.6/lxd/firewall/firewall_load.go
@@ -1,8 +1,8 @@
 package firewall
 
 import (
-	"github.com/lxc/lxd/lxd/firewall/drivers"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/firewall/drivers"
+	"lxc/lxd/shared/logger"
 )
 
 // New returns an appropriate firewall implementation.
--- lxd-4.6.orig/lxd/images.go
+++ lxd-4.6/lxd/images.go
@@ -26,28 +26,28 @@ import (
 	"github.com/pkg/errors"
 	"gopkg.in/yaml.v2"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/filter"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/node"
-	"github.com/lxc/lxd/lxd/operations"
-	projectutils "github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/state"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	"github.com/lxc/lxd/lxd/task"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/ioprogress"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/logging"
-	"github.com/lxc/lxd/shared/osarch"
-	"github.com/lxc/lxd/shared/version"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/filter"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/node"
+	"lxc/lxd/lxd/operations"
+	projectutils "lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/state"
+	storagePools "lxc/lxd/lxd/storage"
+	"lxc/lxd/lxd/task"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/ioprogress"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logging"
+	"lxc/lxd/shared/osarch"
+	"lxc/lxd/shared/version"
 )
 
 var imagesCmd = APIEndpoint{
--- lxd-4.6.orig/lxd/init.go
+++ lxd-4.6/lxd/init.go
@@ -5,11 +5,11 @@ import (
 
 	"github.com/pkg/errors"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 type initDataNode struct {
--- lxd-4.6.orig/lxd/instance.go
+++ lxd-4.6/lxd/instance.go
@@ -15,21 +15,21 @@ import (
 	cron "gopkg.in/robfig/cron.v2"
 
 	"github.com/flosch/pongo2"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/state"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	"github.com/lxc/lxd/lxd/task"
-	"github.com/lxc/lxd/shared"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/osarch"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/state"
+	storagePools "lxc/lxd/lxd/storage"
+	"lxc/lxd/lxd/task"
+	"lxc/lxd/shared"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/osarch"
 )
 
 // Helper functions
--- lxd-4.6.orig/lxd/instance/drivers/driver_common.go
+++ lxd-4.6/lxd/instance/drivers/driver_common.go
@@ -1,11 +1,11 @@
 package drivers
 
 import (
-	"github.com/lxc/lxd/lxd/db"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/db"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared/api"
 )
 
 // common provides structure common to all instance types.
--- lxd-4.6.orig/lxd/instance/drivers/driver_lxc.go
+++ lxd-4.6/lxd/instance/drivers/driver_lxc.go
@@ -24,40 +24,40 @@ import (
 	liblxc "gopkg.in/lxc/go-lxc.v2"
 	yaml "gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/lxd/apparmor"
-	"github.com/lxc/lxd/lxd/backup"
-	"github.com/lxc/lxd/lxd/cgroup"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/daemon"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/lxd/device"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/device/nictype"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/instance/operationlock"
-	"github.com/lxc/lxd/lxd/maas"
-	"github.com/lxc/lxd/lxd/network"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/seccomp"
-	"github.com/lxc/lxd/lxd/state"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	storageDrivers "github.com/lxc/lxd/lxd/storage/drivers"
-	"github.com/lxc/lxd/lxd/template"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/idmap"
-	"github.com/lxc/lxd/shared/instancewriter"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/logging"
-	"github.com/lxc/lxd/shared/netutils"
-	"github.com/lxc/lxd/shared/osarch"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/lxd/apparmor"
+	"lxc/lxd/lxd/backup"
+	"lxc/lxd/lxd/cgroup"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/daemon"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/device"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/device/nictype"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/instance/operationlock"
+	"lxc/lxd/lxd/maas"
+	"lxc/lxd/lxd/network"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/seccomp"
+	"lxc/lxd/lxd/state"
+	storagePools "lxc/lxd/lxd/storage"
+	storageDrivers "lxc/lxd/lxd/storage/drivers"
+	"lxc/lxd/lxd/template"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/idmap"
+	"lxc/lxd/shared/instancewriter"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logging"
+	"lxc/lxd/shared/netutils"
+	"lxc/lxd/shared/osarch"
+	"lxc/lxd/shared/units"
 )
 
 // Helper functions
--- lxd-4.6.orig/lxd/instance/drivers/driver_lxc_cmd.go
+++ lxd-4.6/lxd/instance/drivers/driver_lxc_cmd.go
@@ -6,8 +6,8 @@ import (
 
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 )
 
 // lxcCmd represents a running command for an LXC container.
--- lxd-4.6.orig/lxd/instance/drivers/driver_qemu.go
+++ lxd-4.6/lxd/instance/drivers/driver_qemu.go
@@ -26,41 +26,41 @@ import (
 	"golang.org/x/sys/unix"
 	"gopkg.in/yaml.v2"
 
-	lxdClient "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/apparmor"
-	"github.com/lxc/lxd/lxd/backup"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/lxd/device"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/device/nictype"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/drivers/qmp"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/instance/operationlock"
-	"github.com/lxc/lxd/lxd/maas"
-	"github.com/lxc/lxd/lxd/network"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/resources"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/state"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	storageDrivers "github.com/lxc/lxd/lxd/storage/drivers"
-	pongoTemplate "github.com/lxc/lxd/lxd/template"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/lxd/vsock"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/instancewriter"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/logging"
-	"github.com/lxc/lxd/shared/osarch"
-	"github.com/lxc/lxd/shared/subprocess"
-	"github.com/lxc/lxd/shared/termios"
-	"github.com/lxc/lxd/shared/units"
+	lxdClient "lxc/lxd/client"
+	"lxc/lxd/lxd/apparmor"
+	"lxc/lxd/lxd/backup"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/device"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/device/nictype"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/drivers/qmp"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/instance/operationlock"
+	"lxc/lxd/lxd/maas"
+	"lxc/lxd/lxd/network"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/resources"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/state"
+	storagePools "lxc/lxd/lxd/storage"
+	storageDrivers "lxc/lxd/lxd/storage/drivers"
+	pongoTemplate "lxc/lxd/lxd/template"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/lxd/vsock"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/instancewriter"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logging"
+	"lxc/lxd/shared/osarch"
+	"lxc/lxd/shared/subprocess"
+	"lxc/lxd/shared/termios"
+	"lxc/lxd/shared/units"
 )
 
 // qemuAsyncIO is used to indicate disk should use unsafe cache I/O.
--- lxd-4.6.orig/lxd/instance/drivers/driver_qemu_cmd.go
+++ lxd-4.6/lxd/instance/drivers/driver_qemu_cmd.go
@@ -5,9 +5,9 @@ import (
 
 	"golang.org/x/sys/unix"
 
-	lxdClient "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
+	lxdClient "lxc/lxd/client"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
 )
 
 // Cmd represents a running command for an Qemu VM.
--- lxd-4.6.orig/lxd/instance/drivers/load.go
+++ lxd-4.6/lxd/instance/drivers/load.go
@@ -5,14 +5,14 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/device"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/device"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 func init() {
--- lxd-4.6.orig/lxd/instance/drivers/qmp/monitor.go
+++ lxd-4.6/lxd/instance/drivers/qmp/monitor.go
@@ -10,7 +10,7 @@ import (
 
 	"github.com/digitalocean/go-qemu/qmp"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 var monitors = map[string]*Monitor{}
--- lxd-4.6.orig/lxd/instance/drivers/test_util.go
+++ lxd-4.6/lxd/instance/drivers/test_util.go
@@ -1,8 +1,8 @@
 package drivers
 
 import (
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
 )
 
 // PrepareEqualTest modifies any unexported variables required for reflect.DeepEqual to complete safely.
--- lxd-4.6.orig/lxd/instance/filter.go
+++ lxd-4.6/lxd/instance/filter.go
@@ -1,8 +1,8 @@
 package instance
 
 import (
-	"github.com/lxc/lxd/lxd/filter"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/filter"
+	"lxc/lxd/shared/api"
 )
 
 // Filter returns a filtered list of instances that match the given clauses.
--- lxd-4.6.orig/lxd/instance/instance_interface.go
+++ lxd-4.6/lxd/instance/instance_interface.go
@@ -7,13 +7,13 @@ import (
 
 	liblxc "gopkg.in/lxc/go-lxc.v2"
 
-	"github.com/lxc/lxd/lxd/backup"
-	"github.com/lxc/lxd/lxd/db"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/idmap"
+	"lxc/lxd/lxd/backup"
+	"lxc/lxd/lxd/db"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/idmap"
 )
 
 // HookStart hook used when instance has started.
--- lxd-4.6.orig/lxd/instance/instance_utils.go
+++ lxd-4.6/lxd/instance/instance_utils.go
@@ -12,22 +12,22 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/backup"
-	"github.com/lxc/lxd/lxd/db"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/seccomp"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/lxd/sys"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/idmap"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/osarch"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/client"
+	"lxc/lxd/lxd/backup"
+	"lxc/lxd/lxd/db"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/seccomp"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/lxd/sys"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/idmap"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/osarch"
+	"lxc/lxd/shared/version"
 )
 
 // ValidDevices is linked from instance/drivers.validDevices to validate device config.
--- lxd-4.6.orig/lxd/instance/instancetype/instance_type.go
+++ lxd-4.6/lxd/instance/instancetype/instance_type.go
@@ -3,7 +3,7 @@ package instancetype
 import (
 	"fmt"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 // Type indicates the type of instance.
--- lxd-4.6.orig/lxd/instance_backup.go
+++ lxd-4.6/lxd/instance_backup.go
@@ -10,15 +10,15 @@ import (
 	"github.com/gorilla/mux"
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/version"
 )
 
 func containerBackupsGet(d *Daemon, r *http.Request) response.Response {
--- lxd-4.6.orig/lxd/instance_console.go
+++ lxd-4.6/lxd/instance_console.go
@@ -14,17 +14,17 @@ import (
 	"golang.org/x/sys/unix"
 	liblxc "gopkg.in/lxc/go-lxc.v2"
 
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/termios"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/termios"
 )
 
 type consoleWs struct {
--- lxd-4.6.orig/lxd/instance_delete.go
+++ lxd-4.6/lxd/instance_delete.go
@@ -5,10 +5,10 @@ import (
 	"net/http"
 
 	"github.com/gorilla/mux"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/response"
 )
 
 func containerDelete(d *Daemon, r *http.Request) response.Response {
--- lxd-4.6.orig/lxd/instance_exec.go
+++ lxd-4.6/lxd/instance_exec.go
@@ -15,19 +15,19 @@ import (
 	"github.com/gorilla/websocket"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/logging"
-	"github.com/lxc/lxd/shared/netutils"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logging"
+	"lxc/lxd/shared/netutils"
+	"lxc/lxd/shared/version"
 )
 
 type execWs struct {
--- lxd-4.6.orig/lxd/instance_file.go
+++ lxd-4.6/lxd/instance_file.go
@@ -10,9 +10,9 @@ import (
 
 	"github.com/gorilla/mux"
 
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/shared"
 )
 
 func containerFileHandler(d *Daemon, r *http.Request) response.Response {
--- lxd-4.6.orig/lxd/instance_get.go
+++ lxd-4.6/lxd/instance_get.go
@@ -4,8 +4,8 @@ import (
 	"net/http"
 
 	"github.com/gorilla/mux"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/response"
 )
 
 func containerGet(d *Daemon, r *http.Request) response.Response {
--- lxd-4.6.orig/lxd/instance_instance_types.go
+++ lxd-4.6/lxd/instance_instance_types.go
@@ -10,15 +10,15 @@ import (
 
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/task"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/task"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/version"
 
-	log "github.com/lxc/lxd/shared/log15"
+	log "lxc/lxd/shared/log15"
 )
 
 type instanceType struct {
--- lxd-4.6.orig/lxd/instance_logs.go
+++ lxd-4.6/lxd/instance_logs.go
@@ -9,11 +9,11 @@ import (
 
 	"github.com/gorilla/mux"
 
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/version"
 )
 
 var instanceLogCmd = APIEndpoint{
--- lxd-4.6.orig/lxd/instance_metadata.go
+++ lxd-4.6/lxd/instance_metadata.go
@@ -13,10 +13,10 @@ import (
 	"github.com/gorilla/mux"
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 func containerMetadataGet(d *Daemon, r *http.Request) response.Response {
--- lxd-4.6.orig/lxd/instance_patch.go
+++ lxd-4.6/lxd/instance_patch.go
@@ -9,15 +9,15 @@ import (
 
 	"github.com/gorilla/mux"
 
-	"github.com/lxc/lxd/lxd/db"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	projecthelpers "github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/osarch"
+	"lxc/lxd/lxd/db"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	projecthelpers "lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/osarch"
 )
 
 func containerPatch(d *Daemon, r *http.Request) response.Response {
--- lxd-4.6.orig/lxd/instance_post.go
+++ lxd-4.6/lxd/instance_post.go
@@ -11,19 +11,19 @@ import (
 	"github.com/pborman/uuid"
 	"github.com/pkg/errors"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/response"
-	driver "github.com/lxc/lxd/lxd/storage"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/response"
+	driver "lxc/lxd/lxd/storage"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
 )
 
 var internalClusterContainerMovedCmd = APIEndpoint{
--- lxd-4.6.orig/lxd/instance_put.go
+++ lxd-4.6/lxd/instance_put.go
@@ -7,17 +7,17 @@ import (
 
 	"github.com/gorilla/mux"
 
-	"github.com/lxc/lxd/lxd/db"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/operations"
-	projecthelpers "github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/osarch"
+	"lxc/lxd/lxd/db"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/operations"
+	projecthelpers "lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/osarch"
 )
 
 /*
--- lxd-4.6.orig/lxd/instance_snapshot.go
+++ lxd-4.6/lxd/instance_snapshot.go
@@ -12,18 +12,18 @@ import (
 	"github.com/gorilla/mux"
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/state"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/validate"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/state"
+	storagePools "lxc/lxd/lxd/storage"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/validate"
+	"lxc/lxd/shared/version"
 )
 
 func containerSnapshotsGet(d *Daemon, r *http.Request) response.Response {
--- lxd-4.6.orig/lxd/instance_state.go
+++ lxd-4.6/lxd/instance_state.go
@@ -8,13 +8,13 @@ import (
 
 	"github.com/gorilla/mux"
 
-	"github.com/lxc/lxd/lxd/cgroup"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/cgroup"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 func containerState(d *Daemon, r *http.Request) response.Response {
--- lxd-4.6.orig/lxd/instance_test.go
+++ lxd-4.6/lxd/instance_test.go
@@ -6,16 +6,16 @@ import (
 
 	"github.com/stretchr/testify/suite"
 
-	"github.com/lxc/lxd/lxd/db"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	instanceDrivers "github.com/lxc/lxd/lxd/instance/drivers"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/project"
-	driver "github.com/lxc/lxd/lxd/storage"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/idmap"
+	"lxc/lxd/lxd/db"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	instanceDrivers "lxc/lxd/lxd/instance/drivers"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/project"
+	driver "lxc/lxd/lxd/storage"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/idmap"
 )
 
 type containerTestSuite struct {
--- lxd-4.6.orig/lxd/instances.go
+++ lxd-4.6/lxd/instances.go
@@ -8,13 +8,13 @@ import (
 	"sync"
 	"time"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 )
 
 var instancesCmd = APIEndpoint{
--- lxd-4.6.orig/lxd/instances_get.go
+++ lxd-4.6/lxd/instances_get.go
@@ -12,17 +12,17 @@ import (
 	"github.com/gorilla/mux"
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/lxd/filter"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/filter"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/version"
 )
 
 // urlInstanceTypeDetect detects what sort of instance type filter is being requested. Either
--- lxd-4.6.orig/lxd/instances_post.go
+++ lxd-4.6/lxd/instances_post.go
@@ -17,22 +17,22 @@ import (
 	"github.com/gorilla/websocket"
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/backup"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/operations"
-	projecthelpers "github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/revert"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/osarch"
+	"lxc/lxd/lxd/backup"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/operations"
+	projecthelpers "lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/revert"
+	storagePools "lxc/lxd/lxd/storage"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/osarch"
 )
 
 func createFromImage(d *Daemon, project string, req *api.InstancesPost) response.Response {
--- lxd-4.6.orig/lxd/logging.go
+++ lxd-4.6/lxd/logging.go
@@ -7,17 +7,17 @@ import (
 	"strings"
 	"time"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/lxd/task"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/lxd/task"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 
-	log "github.com/lxc/lxd/shared/log15"
+	log "lxc/lxd/shared/log15"
 )
 
 // This task function expires logs when executed. It's started by the Daemon
--- lxd-4.6.orig/lxd/maas/controller.go
+++ lxd-4.6/lxd/maas/controller.go
@@ -7,7 +7,7 @@ import (
 
 	"github.com/juju/gomaasapi"
 
-	"github.com/lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/project"
 )
 
 // Instance is a MAAS specific instance interface.
--- lxd-4.6.orig/lxd/main.go
+++ lxd-4.6/lxd/main.go
@@ -8,14 +8,14 @@ import (
 	"github.com/canonical/go-dqlite"
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/lxd/daemon"
-	"github.com/lxc/lxd/lxd/events"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/rsync"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/logging"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/daemon"
+	"lxc/lxd/lxd/events"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/rsync"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logging"
+	"lxc/lxd/shared/version"
 )
 
 // Initialize the random number generator
--- lxd-4.6.orig/lxd/main_activateifneeded.go
+++ lxd-4.6/lxd/main_activateifneeded.go
@@ -8,14 +8,14 @@ import (
 	sqlite3 "github.com/mattn/go-sqlite3"
 	"github.com/spf13/cobra"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/node"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/idmap"
-	"github.com/lxc/lxd/shared/logger"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/node"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/idmap"
+	"lxc/lxd/shared/logger"
 )
 
 func init() {
--- lxd-4.6.orig/lxd/main_callhook.go
+++ lxd-4.6/lxd/main_callhook.go
@@ -8,7 +8,7 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/client"
+	"lxc/lxd/client"
 )
 
 type cmdCallhook struct {
--- lxd-4.6.orig/lxd/main_checkfeature.go
+++ lxd-4.6/lxd/main_checkfeature.go
@@ -5,10 +5,10 @@ import (
 	"os"
 	"runtime"
 	// Used by cgo
-	_ "github.com/lxc/lxd/lxd/include"
+	_ "lxc/lxd/lxd/include"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 )
 
 /*
--- lxd-4.6.orig/lxd/main_cluster.go
+++ lxd-4.6/lxd/main_cluster.go
@@ -7,13 +7,13 @@ import (
 	"path/filepath"
 	"strings"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxc/utils"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/sys"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxc/utils"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/sys"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
 	"github.com/pkg/errors"
 	"github.com/spf13/cobra"
 )
--- lxd-4.6.orig/lxd/main_daemon.go
+++ lxd-4.6/lxd/main_daemon.go
@@ -9,8 +9,8 @@ import (
 	"github.com/spf13/cobra"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/lxd/sys"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/sys"
+	"lxc/lxd/shared/logger"
 )
 
 type cmdDaemon struct {
--- lxd-4.6.orig/lxd/main_forkdns.go
+++ lxd-4.6/lxd/main_forkdns.go
@@ -14,11 +14,11 @@ import (
 	"github.com/spf13/cobra"
 	"gopkg.in/fsnotify.v0"
 
-	"github.com/lxc/lxd/lxd/network"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/dnsutil"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/logging"
+	"lxc/lxd/lxd/network"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/dnsutil"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logging"
 )
 
 type cmdForkDNS struct {
--- lxd-4.6.orig/lxd/main_forkexec.go
+++ lxd-4.6/lxd/main_forkexec.go
@@ -6,7 +6,7 @@ import (
 	"github.com/spf13/cobra"
 
 	// Used by cgo
-	_ "github.com/lxc/lxd/lxd/include"
+	_ "lxc/lxd/lxd/include"
 )
 
 /*
--- lxd-4.6.orig/lxd/main_forkmount.go
+++ lxd-4.6/lxd/main_forkmount.go
@@ -6,7 +6,7 @@ import (
 	"github.com/spf13/cobra"
 
 	// Used by cgo
-	_ "github.com/lxc/lxd/lxd/include"
+	_ "lxc/lxd/lxd/include"
 )
 
 /*
--- lxd-4.6.orig/lxd/main_forknet.go
+++ lxd-4.6/lxd/main_forknet.go
@@ -7,9 +7,9 @@ import (
 	"github.com/spf13/cobra"
 
 	// Used by cgo
-	_ "github.com/lxc/lxd/lxd/include"
+	_ "lxc/lxd/lxd/include"
 
-	"github.com/lxc/lxd/shared/netutils"
+	"lxc/lxd/shared/netutils"
 )
 
 /*
@@ -117,7 +117,7 @@ void forknet(void)
 }
 */
 import "C"
-import "github.com/lxc/lxd/shared"
+import "lxc/lxd/shared"
 
 type cmdForknet struct {
 	global *cmdGlobal
--- lxd-4.6.orig/lxd/main_forkproxy.go
+++ lxd-4.6/lxd/main_forkproxy.go
@@ -16,13 +16,13 @@ import (
 	"golang.org/x/sys/unix"
 
 	// Used by cgo
-	_ "github.com/lxc/lxd/lxd/include"
+	_ "lxc/lxd/lxd/include"
 
-	"github.com/lxc/lxd/lxd/daemon"
-	"github.com/lxc/lxd/lxd/device"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/netutils"
+	"lxc/lxd/lxd/daemon"
+	"lxc/lxd/lxd/device"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/netutils"
 )
 
 /*
--- lxd-4.6.orig/lxd/main_forkproxy_test.go
+++ lxd-4.6/lxd/main_forkproxy_test.go
@@ -6,8 +6,8 @@ import (
 
 	"github.com/stretchr/testify/require"
 
-	"github.com/lxc/lxd/lxd/device"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/device"
+	deviceConfig "lxc/lxd/lxd/device/config"
 )
 
 func TestParseAddr(t *testing.T) {
--- lxd-4.6.orig/lxd/main_forkstart.go
+++ lxd-4.6/lxd/main_forkstart.go
@@ -8,7 +8,7 @@ import (
 	"golang.org/x/sys/unix"
 	liblxc "gopkg.in/lxc/go-lxc.v2"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 type cmdForkstart struct {
--- lxd-4.6.orig/lxd/main_forksyscall.go
+++ lxd-4.6/lxd/main_forksyscall.go
@@ -6,7 +6,7 @@ import (
 	"github.com/spf13/cobra"
 
 	// Used by cgo
-	_ "github.com/lxc/lxd/lxd/include"
+	_ "lxc/lxd/lxd/include"
 )
 
 /*
--- lxd-4.6.orig/lxd/main_forkzfs.go
+++ lxd-4.6/lxd/main_forkzfs.go
@@ -11,7 +11,7 @@ import (
 	"github.com/spf13/cobra"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 type cmdForkZFS struct {
--- lxd-4.6.orig/lxd/main_import.go
+++ lxd-4.6/lxd/main_import.go
@@ -7,7 +7,7 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/client"
+	"lxc/lxd/client"
 )
 
 type cmdImport struct {
--- lxd-4.6.orig/lxd/main_init.go
+++ lxd-4.6/lxd/main_init.go
@@ -6,13 +6,13 @@ import (
 	"github.com/pkg/errors"
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/state"
-	storageDrivers "github.com/lxc/lxd/lxd/storage/drivers"
-	"github.com/lxc/lxd/lxd/sys"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/client"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/state"
+	storageDrivers "lxc/lxd/lxd/storage/drivers"
+	"lxc/lxd/lxd/sys"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
 )
 
 type cmdInitData struct {
--- lxd-4.6.orig/lxd/main_init_auto.go
+++ lxd-4.6/lxd/main_init_auto.go
@@ -6,12 +6,12 @@ import (
 	"github.com/pkg/errors"
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/project"
-	storageDrivers "github.com/lxc/lxd/lxd/storage/drivers"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/client"
+	"lxc/lxd/lxd/project"
+	storageDrivers "lxc/lxd/lxd/storage/drivers"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 func (c *cmdInit) RunAuto(cmd *cobra.Command, args []string, d lxd.InstanceServer) (*cmdInitData, error) {
--- lxd-4.6.orig/lxd/main_init_dump.go
+++ lxd-4.6/lxd/main_init_dump.go
@@ -6,9 +6,9 @@ import (
 	"github.com/pkg/errors"
 	yaml "gopkg.in/yaml.v2"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/shared/api"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/shared/api"
 )
 
 func (c *cmdInit) RunDump(d lxd.InstanceServer) error {
--- lxd-4.6.orig/lxd/main_init_interactive.go
+++ lxd-4.6/lxd/main_init_interactive.go
@@ -15,17 +15,17 @@ import (
 	"golang.org/x/sys/unix"
 	"gopkg.in/yaml.v2"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/network"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/idmap"
-	"github.com/lxc/lxd/shared/validate"
-	"github.com/lxc/lxd/shared/version"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/network"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/idmap"
+	"lxc/lxd/shared/validate"
+	"lxc/lxd/shared/version"
 )
 
 func (c *cmdInit) RunInteractive(cmd *cobra.Command, args []string, d lxd.InstanceServer) (*cmdInitData, error) {
--- lxd-4.6.orig/lxd/main_init_preseed.go
+++ lxd-4.6/lxd/main_init_preseed.go
@@ -8,7 +8,7 @@ import (
 	"github.com/spf13/cobra"
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/client"
+	"lxc/lxd/client"
 )
 
 func (c *cmdInit) RunPreseed(cmd *cobra.Command, args []string, d lxd.InstanceServer) (*cmdInitData, error) {
--- lxd-4.6.orig/lxd/main_manpage.go
+++ lxd-4.6/lxd/main_manpage.go
@@ -6,7 +6,7 @@ import (
 	"github.com/spf13/cobra"
 	"github.com/spf13/cobra/doc"
 
-	cli "github.com/lxc/lxd/shared/cmd"
+	cli "lxc/lxd/shared/cmd"
 )
 
 type cmdManpage struct {
--- lxd-4.6.orig/lxd/main_migratedumpsuccess.go
+++ lxd-4.6/lxd/main_migratedumpsuccess.go
@@ -7,8 +7,8 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/client"
+	"lxc/lxd/shared/api"
 )
 
 type cmdMigratedumpsuccess struct {
--- lxd-4.6.orig/lxd/main_netcat.go
+++ lxd-4.6/lxd/main_netcat.go
@@ -9,8 +9,8 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/eagain"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/eagain"
 )
 
 type cmdNetcat struct {
--- lxd-4.6.orig/lxd/main_nsexec.go
+++ lxd-4.6/lxd/main_nsexec.go
@@ -20,7 +20,7 @@ package main
 
 import (
 	// Used by cgo
-	_ "github.com/lxc/lxd/lxd/include"
+	_ "lxc/lxd/lxd/include"
 )
 
 /*
--- lxd-4.6.orig/lxd/main_shutdown.go
+++ lxd-4.6/lxd/main_shutdown.go
@@ -9,7 +9,7 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/client"
+	"lxc/lxd/client"
 )
 
 type cmdShutdown struct {
--- lxd-4.6.orig/lxd/main_sql.go
+++ lxd-4.6/lxd/main_sql.go
@@ -10,8 +10,8 @@ import (
 	"github.com/pkg/errors"
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/client"
+	"lxc/lxd/shared"
 )
 
 type cmdSql struct {
--- lxd-4.6.orig/lxd/main_test.go
+++ lxd-4.6/lxd/main_test.go
@@ -5,14 +5,14 @@ import (
 	"io/ioutil"
 	"os"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/sys"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/sys"
 	"github.com/stretchr/testify/require"
 	"github.com/stretchr/testify/suite"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/idmap"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/idmap"
 )
 
 func mockStartDaemon() (*Daemon, error) {
--- lxd-4.6.orig/lxd/main_version.go
+++ lxd-4.6/lxd/main_version.go
@@ -5,8 +5,8 @@ import (
 
 	"github.com/spf13/cobra"
 
-	cli "github.com/lxc/lxd/shared/cmd"
-	"github.com/lxc/lxd/shared/version"
+	cli "lxc/lxd/shared/cmd"
+	"lxc/lxd/shared/version"
 )
 
 type cmdVersion struct {
--- lxd-4.6.orig/lxd/main_waitready.go
+++ lxd-4.6/lxd/main_waitready.go
@@ -6,8 +6,8 @@ import (
 
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/client"
+	"lxc/lxd/shared/logger"
 )
 
 type cmdWaitready struct {
--- lxd-4.6.orig/lxd/migrate.go
+++ lxd-4.6/lxd/migrate.go
@@ -18,12 +18,12 @@ import (
 	"github.com/golang/protobuf/proto"
 	"github.com/gorilla/websocket"
 
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/idmap"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/idmap"
+	"lxc/lxd/shared/logger"
 )
 
 type migrationFields struct {
--- lxd-4.6.orig/lxd/migrate_instance.go
+++ lxd-4.6/lxd/migrate_instance.go
@@ -16,19 +16,19 @@ import (
 	"github.com/pkg/errors"
 	liblxc "gopkg.in/lxc/go-lxc.v2"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/rsync"
-	"github.com/lxc/lxd/lxd/state"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/idmap"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/rsync"
+	"lxc/lxd/lxd/state"
+	storagePools "lxc/lxd/lxd/storage"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/idmap"
+	"lxc/lxd/shared/logger"
 )
 
 func newMigrationSource(inst instance.Instance, stateful bool, instanceOnly bool) (*migrationSourceWs, error) {
--- lxd-4.6.orig/lxd/migrate_storage_volumes.go
+++ lxd-4.6/lxd/migrate_storage_volumes.go
@@ -6,14 +6,14 @@ import (
 	"github.com/golang/protobuf/proto"
 	"github.com/gorilla/websocket"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/state"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/state"
+	storagePools "lxc/lxd/lxd/storage"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
 )
 
 func newStorageMigrationSource(volumeOnly bool) (*migrationSourceWs, error) {
--- lxd-4.6.orig/lxd/migration/migration_volumes.go
+++ lxd-4.6/lxd/migration/migration_volumes.go
@@ -4,10 +4,10 @@ import (
 	"fmt"
 	"io"
 
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/ioprogress"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/ioprogress"
+	"lxc/lxd/shared/units"
 )
 
 // Type represents the migration transport type. It indicates the method by which the migration can
--- lxd-4.6.orig/lxd/migration/wsproto.go
+++ lxd-4.6/lxd/migration/wsproto.go
@@ -7,7 +7,7 @@ import (
 	"github.com/golang/protobuf/proto"
 	"github.com/gorilla/websocket"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // ProtoRecv gets a protobuf message from a websocket
--- lxd-4.6.orig/lxd/network/driver_bridge.go
+++ lxd-4.6/lxd/network/driver_bridge.go
@@ -18,21 +18,21 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/apparmor"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/daemon"
-	"github.com/lxc/lxd/lxd/dnsmasq"
-	"github.com/lxc/lxd/lxd/dnsmasq/dhcpalloc"
-	"github.com/lxc/lxd/lxd/network/openvswitch"
-	"github.com/lxc/lxd/lxd/node"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/subprocess"
-	"github.com/lxc/lxd/shared/validate"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/apparmor"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/daemon"
+	"lxc/lxd/lxd/dnsmasq"
+	"lxc/lxd/lxd/dnsmasq/dhcpalloc"
+	"lxc/lxd/lxd/network/openvswitch"
+	"lxc/lxd/lxd/node"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/subprocess"
+	"lxc/lxd/shared/validate"
+	"lxc/lxd/shared/version"
 )
 
 // ForkdnsServersListPath defines the path that contains the forkdns server candidate file.
--- lxd-4.6.orig/lxd/network/driver_common.go
+++ lxd-4.6/lxd/network/driver_common.go
@@ -8,16 +8,16 @@ import (
 
 	"github.com/pkg/errors"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/logging"
-	"github.com/lxc/lxd/shared/validate"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logging"
+	"lxc/lxd/shared/validate"
 )
 
 // Info represents information about a network driver.
--- lxd-4.6.orig/lxd/network/driver_macvlan.go
+++ lxd-4.6/lxd/network/driver_macvlan.go
@@ -3,11 +3,11 @@ package network
 import (
 	"fmt"
 
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/shared/api"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/validate"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/shared/api"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/validate"
 )
 
 // macvlan represents a LXD macvlan network.
--- lxd-4.6.orig/lxd/network/driver_ovn.go
+++ lxd-4.6/lxd/network/driver_ovn.go
@@ -15,17 +15,17 @@ import (
 	"github.com/mdlayher/netx/eui64"
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/locking"
-	"github.com/lxc/lxd/lxd/network/openvswitch"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/validate"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/locking"
+	"lxc/lxd/lxd/network/openvswitch"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/validate"
 )
 
 // ovnGeneveTunnelMTU is the MTU that is safe to use when tunneling using geneve.
--- lxd-4.6.orig/lxd/network/driver_sriov.go
+++ lxd-4.6/lxd/network/driver_sriov.go
@@ -3,11 +3,11 @@ package network
 import (
 	"fmt"
 
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/shared/api"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/validate"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/shared/api"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/validate"
 )
 
 // sriov represents a LXD sriov network.
--- lxd-4.6.orig/lxd/network/network_interface.go
+++ lxd-4.6/lxd/network/network_interface.go
@@ -3,10 +3,10 @@ package network
 import (
 	"net"
 
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 // Network represents a LXD network.
--- lxd-4.6.orig/lxd/network/network_load.go
+++ lxd-4.6/lxd/network/network_load.go
@@ -5,9 +5,9 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared/api"
 )
 
 var drivers = map[string]func() Network{
--- lxd-4.6.orig/lxd/network/network_utils.go
+++ lxd-4.6/lxd/network/network_utils.go
@@ -17,20 +17,20 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/device/nictype"
-	"github.com/lxc/lxd/lxd/dnsmasq"
-	"github.com/lxc/lxd/lxd/dnsmasq/dhcpalloc"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/network/openvswitch"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/db"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/device/nictype"
+	"lxc/lxd/lxd/dnsmasq"
+	"lxc/lxd/lxd/dnsmasq/dhcpalloc"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/network/openvswitch"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/version"
 )
 
 // validInterfaceName validates a real network interface name.
--- lxd-4.6.orig/lxd/network/network_utils_ovn.go
+++ lxd-4.6/lxd/network/network_utils_ovn.go
@@ -4,7 +4,7 @@ import (
 	"fmt"
 	"net"
 
-	"github.com/lxc/lxd/lxd/network/openvswitch"
+	"lxc/lxd/lxd/network/openvswitch"
 )
 
 // OVNInstanceDevicePortAdd adds a logical port to the OVN network's internal switch and returns the logical
--- lxd-4.6.orig/lxd/network/openvswitch/ovn.go
+++ lxd-4.6/lxd/network/openvswitch/ovn.go
@@ -7,7 +7,7 @@ import (
 	"strings"
 	"time"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // OVNRouter OVN router name.
--- lxd-4.6.orig/lxd/network/openvswitch/ovs.go
+++ lxd-4.6/lxd/network/openvswitch/ovs.go
@@ -7,7 +7,7 @@ import (
 	"strings"
 	"sync"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // ovnBridgeMappingMutex locks access to read/write external-ids:ovn-bridge-mappings.
--- lxd-4.6.orig/lxd/networks.go
+++ lxd-4.6/lxd/networks.go
@@ -12,25 +12,25 @@ import (
 	"sync"
 
 	"github.com/gorilla/mux"
-	log "github.com/lxc/lxd/shared/log15"
+	log "lxc/lxd/shared/log15"
 	"github.com/pkg/errors"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/device/nictype"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/network"
-	"github.com/lxc/lxd/lxd/network/openvswitch"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/version"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/device/nictype"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/network"
+	"lxc/lxd/lxd/network/openvswitch"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/version"
 )
 
 // Lock to prevent concurent networks creation
--- lxd-4.6.orig/lxd/networks_utils.go
+++ lxd-4.6/lxd/networks_utils.go
@@ -8,14 +8,14 @@ import (
 	"strconv"
 	"strings"
 
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/network"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/network"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
 )
 
 func readUint(path string) (uint64, error) {
--- lxd-4.6.orig/lxd/node/config.go
+++ lxd-4.6/lxd/node/config.go
@@ -4,9 +4,9 @@ import (
 	"fmt"
 	"net"
 
-	"github.com/lxc/lxd/lxd/config"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/config"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/shared"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/node/config_test.go
+++ lxd-4.6/lxd/node/config_test.go
@@ -3,8 +3,8 @@ package node_test
 import (
 	"testing"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/node"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/node"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/node/raft.go
+++ lxd-4.6/lxd/node/raft.go
@@ -1,7 +1,7 @@
 package node
 
 import (
-	"github.com/lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db"
 )
 
 // DetermineRaftNode figures out what raft node ID and address we have, if any.
--- lxd-4.6.orig/lxd/node/raft_test.go
+++ lxd-4.6/lxd/node/raft_test.go
@@ -3,8 +3,8 @@ package node_test
 import (
 	"testing"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/node"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/node"
 	"github.com/mpvl/subtest"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
--- lxd-4.6.orig/lxd/operations.go
+++ lxd-4.6/lxd/operations.go
@@ -9,17 +9,17 @@ import (
 	"github.com/gorilla/mux"
 	"github.com/gorilla/websocket"
 
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/node"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/node"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
 )
 
 var operationCmd = APIEndpoint{
--- lxd-4.6.orig/lxd/operations/linux.go
+++ lxd-4.6/lxd/operations/linux.go
@@ -5,7 +5,7 @@ package operations
 import (
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db"
 )
 
 func registerDBOperation(op *Operation, opType db.OperationType) error {
--- lxd-4.6.orig/lxd/operations/notlinux.go
+++ lxd-4.6/lxd/operations/notlinux.go
@@ -5,7 +5,7 @@ package operations
 import (
 	"fmt"
 
-	"github.com/lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db"
 )
 
 func registerDBOperation(op *Operation, opType db.OperationType) error {
--- lxd-4.6.orig/lxd/operations/operations.go
+++ lxd-4.6/lxd/operations/operations.go
@@ -9,15 +9,15 @@ import (
 
 	"github.com/pborman/uuid"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/events"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/cancel"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/events"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/cancel"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/version"
 )
 
 var debug bool
--- lxd-4.6.orig/lxd/operations/response.go
+++ lxd-4.6/lxd/operations/response.go
@@ -4,10 +4,10 @@ import (
 	"fmt"
 	"net/http"
 
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/version"
 )
 
 // Operation response
--- lxd-4.6.orig/lxd/operations/websocket.go
+++ lxd-4.6/lxd/operations/websocket.go
@@ -5,8 +5,8 @@ import (
 	"net/http"
 
 	"github.com/gorilla/websocket"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/shared"
 )
 
 type operationWebSocket struct {
--- lxd-4.6.orig/lxd/patches.go
+++ lxd-4.6/lxd/patches.go
@@ -15,20 +15,20 @@ import (
 	"github.com/pkg/errors"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/db/query"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/rsync"
-	driver "github.com/lxc/lxd/lxd/storage"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	storageDrivers "github.com/lxc/lxd/lxd/storage/drivers"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db/query"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/rsync"
+	driver "lxc/lxd/lxd/storage"
+	storagePools "lxc/lxd/lxd/storage"
+	storageDrivers "lxc/lxd/lxd/storage/drivers"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
 )
 
 type patchStage int
--- lxd-4.6.orig/lxd/patches_utils.go
+++ lxd-4.6/lxd/patches_utils.go
@@ -10,11 +10,11 @@ import (
 	"strconv"
 	"strings"
 
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/state"
-	storageDrivers "github.com/lxc/lxd/lxd/storage/drivers"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/state"
+	storageDrivers "lxc/lxd/lxd/storage/drivers"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/units"
 )
 
 // For 'btrfs' storage backend.
--- lxd-4.6.orig/lxd/profiles.go
+++ lxd-4.6/lxd/profiles.go
@@ -11,18 +11,18 @@ import (
 	"github.com/gorilla/mux"
 	"github.com/pkg/errors"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/version"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/version"
 )
 
 var profilesCmd = APIEndpoint{
--- lxd-4.6.orig/lxd/profiles_utils.go
+++ lxd-4.6/lxd/profiles_utils.go
@@ -3,13 +3,13 @@ package main
 import (
 	"fmt"
 
-	"github.com/lxc/lxd/lxd/db"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	projecthelpers "github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/db"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	projecthelpers "lxc/lxd/lxd/project"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/lxd/project/permissions.go
+++ lxd-4.6/lxd/project/permissions.go
@@ -7,12 +7,12 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db"
-	deviceconfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/lxd/db"
+	deviceconfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/units"
 )
 
 // AllowInstanceCreation returns an error if any project-specific limit or
--- lxd-4.6.orig/lxd/project/permissions_test.go
+++ lxd-4.6/lxd/project/permissions_test.go
@@ -3,10 +3,10 @@ package project_test
 import (
 	"testing"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/shared/api"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/project/project.go
+++ lxd-4.6/lxd/project/project.go
@@ -6,9 +6,9 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 // Default is the string used for a default project.
--- lxd-4.6.orig/lxd/project/project_test.go
+++ lxd-4.6/lxd/project/project_test.go
@@ -3,7 +3,7 @@ package project_test
 import (
 	"fmt"
 
-	"github.com/lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/project"
 )
 
 func ExampleInstance() {
--- lxd-4.6.orig/lxd/rbac/server.go
+++ lxd-4.6/lxd/rbac/server.go
@@ -18,8 +18,8 @@ import (
 	"gopkg.in/macaroon-bakery.v2/httpbakery"
 	"gopkg.in/macaroon-bakery.v2/httpbakery/agent"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 )
 
 type rbacResource struct {
--- lxd-4.6.orig/lxd/resources.go
+++ lxd-4.6/lxd/resources.go
@@ -5,10 +5,10 @@ import (
 
 	"github.com/gorilla/mux"
 
-	"github.com/lxc/lxd/lxd/resources"
-	"github.com/lxc/lxd/lxd/response"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/resources"
+	"lxc/lxd/lxd/response"
+	storagePools "lxc/lxd/lxd/storage"
+	"lxc/lxd/shared/api"
 )
 
 var api10ResourcesCmd = APIEndpoint{
--- lxd-4.6.orig/lxd/resources/cpu.go
+++ lxd-4.6/lxd/resources/cpu.go
@@ -13,7 +13,7 @@ import (
 	"github.com/pkg/errors"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 var sysDevicesCPU = "/sys/devices/system/cpu"
--- lxd-4.6.orig/lxd/resources/gpu.go
+++ lxd-4.6/lxd/resources/gpu.go
@@ -16,7 +16,7 @@ import (
 	"github.com/pkg/errors"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 var sysClassDrm = "/sys/class/drm"
--- lxd-4.6.orig/lxd/resources/memory.go
+++ lxd-4.6/lxd/resources/memory.go
@@ -10,8 +10,8 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/units"
 )
 
 var sysDevicesNode = "/sys/devices/system/node"
--- lxd-4.6.orig/lxd/resources/network.go
+++ lxd-4.6/lxd/resources/network.go
@@ -9,7 +9,7 @@ import (
 	"github.com/pkg/errors"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 var sysClassNet = "/sys/class/net"
--- lxd-4.6.orig/lxd/resources/network_ethtool.go
+++ lxd-4.6/lxd/resources/network_ethtool.go
@@ -8,7 +8,7 @@ import (
 	"github.com/pkg/errors"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 type ethtoolReq struct {
--- lxd-4.6.orig/lxd/resources/pci.go
+++ lxd-4.6/lxd/resources/pci.go
@@ -9,7 +9,7 @@ import (
 	"github.com/pkg/errors"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 // GetPCI returns a filled api.ResourcesPCI struct ready for use by LXD
--- lxd-4.6.orig/lxd/resources/resources.go
+++ lxd-4.6/lxd/resources/resources.go
@@ -3,7 +3,7 @@ package resources
 import (
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 // GetResources returns a filled api.Resources struct ready for use by LXD
--- lxd-4.6.orig/lxd/resources/storage.go
+++ lxd-4.6/lxd/resources/storage.go
@@ -12,7 +12,7 @@ import (
 	"github.com/pkg/errors"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 var devDiskByPath = "/dev/disk/by-path"
--- lxd-4.6.orig/lxd/resources/system.go
+++ lxd-4.6/lxd/resources/system.go
@@ -9,7 +9,7 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 var sysClassDMIID = "/sys/class/dmi/id"
--- lxd-4.6.orig/lxd/resources/usb.go
+++ lxd-4.6/lxd/resources/usb.go
@@ -9,8 +9,8 @@ import (
 	"github.com/pkg/errors"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/usbid"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/usbid"
 )
 
 var sysBusUSB = "/sys/bus/usb/devices"
--- lxd-4.6.orig/lxd/response.go
+++ lxd-4.6/lxd/response.go
@@ -3,10 +3,10 @@ package main
 import (
 	"net/http"
 
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/response"
 )
 
 // forwardedResponseIfTargetIsRemote redirects a request to the request has a
--- lxd-4.6.orig/lxd/response/response.go
+++ lxd-4.6/lxd/response/response.go
@@ -10,10 +10,10 @@ import (
 	"os"
 	"time"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 var debug bool
--- lxd-4.6.orig/lxd/response/smart.go
+++ lxd-4.6/lxd/response/smart.go
@@ -8,7 +8,7 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db"
 )
 
 // SmartError returns the right error message based on err.
--- lxd-4.6.orig/lxd/response/smart_linux.go
+++ lxd-4.6/lxd/response/smart_linux.go
@@ -7,7 +7,7 @@ import (
 	"os"
 
 	"github.com/canonical/go-dqlite/driver"
-	"github.com/lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/db"
 	"github.com/mattn/go-sqlite3"
 	"github.com/pkg/errors"
 )
--- lxd-4.6.orig/lxd/revert/revert_test.go
+++ lxd-4.6/lxd/revert/revert_test.go
@@ -3,7 +3,7 @@ package revert_test
 import (
 	"fmt"
 
-	"github.com/lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/revert"
 )
 
 func ExampleReverter_fail() {
--- lxd-4.6.orig/lxd/rsync/rsync.go
+++ lxd-4.6/lxd/rsync/rsync.go
@@ -12,10 +12,10 @@ import (
 
 	"github.com/pborman/uuid"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/ioprogress"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/ioprogress"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/version"
 )
 
 // Debug controls additional debugging in rsync output.
--- lxd-4.6.orig/lxd/seccomp/seccomp.go
+++ lxd-4.6/lxd/seccomp/seccomp.go
@@ -21,19 +21,19 @@ import (
 	liblxc "gopkg.in/lxc/go-lxc.v2"
 
 	// Used by cgo
-	_ "github.com/lxc/lxd/lxd/include"
+	_ "lxc/lxd/lxd/include"
 
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/lxd/ucred"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/idmap"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/netutils"
-	"github.com/lxc/lxd/shared/osarch"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/lxd/ucred"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/idmap"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/netutils"
+	"lxc/lxd/shared/osarch"
 )
 
 /*
--- lxd-4.6.orig/lxd/state/notlinux.go
+++ lxd-4.6/lxd/state/notlinux.go
@@ -5,7 +5,7 @@ package state
 import (
 	"context"
 
-	"github.com/lxc/lxd/lxd/events"
+	"lxc/lxd/lxd/events"
 )
 
 // State here is just an empty shim to statisfy dependencies.
--- lxd-4.6.orig/lxd/state/state.go
+++ lxd-4.6/lxd/state/state.go
@@ -7,12 +7,12 @@ import (
 	"net/http"
 	"net/url"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/endpoints"
-	"github.com/lxc/lxd/lxd/events"
-	"github.com/lxc/lxd/lxd/firewall"
-	"github.com/lxc/lxd/lxd/maas"
-	"github.com/lxc/lxd/lxd/sys"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/endpoints"
+	"lxc/lxd/lxd/events"
+	"lxc/lxd/lxd/firewall"
+	"lxc/lxd/lxd/maas"
+	"lxc/lxd/lxd/sys"
 )
 
 // State is a gateway to the two main stateful components of LXD, the database
--- lxd-4.6.orig/lxd/state/testing.go
+++ lxd-4.6/lxd/state/testing.go
@@ -6,9 +6,9 @@ import (
 	"context"
 	"testing"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/firewall"
-	"github.com/lxc/lxd/lxd/sys"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/firewall"
+	"lxc/lxd/lxd/sys"
 )
 
 // NewTestState returns a State object initialized with testable instances of
--- lxd-4.6.orig/lxd/storage.go
+++ lxd-4.6/lxd/storage.go
@@ -8,15 +8,15 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/state"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	storageDrivers "github.com/lxc/lxd/lxd/storage/drivers"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/idmap"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/state"
+	storagePools "lxc/lxd/lxd/storage"
+	storageDrivers "lxc/lxd/lxd/storage/drivers"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/idmap"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/version"
 )
 
 // Simply cache used to storage the activated drivers on this LXD instance. This
--- lxd-4.6.orig/lxd/storage/backend_lxd.go
+++ lxd-4.6/lxd/storage/backend_lxd.go
@@ -12,25 +12,25 @@ import (
 	"github.com/pkg/errors"
 	yaml "gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/lxd/backup"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/locking"
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/lxd/storage/drivers"
-	"github.com/lxc/lxd/lxd/storage/memorypipe"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/instancewriter"
-	"github.com/lxc/lxd/shared/ioprogress"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/logging"
+	"lxc/lxd/lxd/backup"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/locking"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/lxd/storage/drivers"
+	"lxc/lxd/lxd/storage/memorypipe"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/instancewriter"
+	"lxc/lxd/shared/ioprogress"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logging"
 )
 
 type lxdBackend struct {
--- lxd-4.6.orig/lxd/storage/backend_lxd_patches.go
+++ lxd-4.6/lxd/storage/backend_lxd_patches.go
@@ -6,13 +6,13 @@ import (
 	"github.com/pkg/errors"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/storage/drivers"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/storage/drivers"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
 )
 
 var lxdEarlyPatches = map[string]func(b *lxdBackend) error{}
--- lxd-4.6.orig/lxd/storage/backend_mock.go
+++ lxd-4.6/lxd/storage/backend_mock.go
@@ -4,15 +4,15 @@ import (
 	"io"
 	"time"
 
-	"github.com/lxc/lxd/lxd/backup"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/lxd/storage/drivers"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/instancewriter"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/backup"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/lxd/storage/drivers"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/instancewriter"
+	"lxc/lxd/shared/logger"
 )
 
 type mockBackend struct {
--- lxd-4.6.orig/lxd/storage/drivers/driver_btrfs.go
+++ lxd-4.6/lxd/storage/drivers/driver_btrfs.go
@@ -10,13 +10,13 @@ import (
 	"github.com/pkg/errors"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/units"
-	"github.com/lxc/lxd/shared/validate"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/units"
+	"lxc/lxd/shared/validate"
 )
 
 var btrfsVersion string
--- lxd-4.6.orig/lxd/storage/drivers/driver_btrfs_utils.go
+++ lxd-4.6/lxd/storage/drivers/driver_btrfs_utils.go
@@ -16,9 +16,9 @@ import (
 	"golang.org/x/sys/unix"
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/ioprogress"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/ioprogress"
+	"lxc/lxd/shared/logger"
 )
 
 // Errors
--- lxd-4.6.orig/lxd/storage/drivers/driver_btrfs_volumes.go
+++ lxd-4.6/lxd/storage/drivers/driver_btrfs_volumes.go
@@ -15,15 +15,15 @@ import (
 	"github.com/pkg/errors"
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/lxd/backup"
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/instancewriter"
-	"github.com/lxc/lxd/shared/ioprogress"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/lxd/backup"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/instancewriter"
+	"lxc/lxd/shared/ioprogress"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/units"
 )
 
 // CreateVolume creates an empty volume and can optionally fill it by executing the supplied filler function.
--- lxd-4.6.orig/lxd/storage/drivers/driver_ceph.go
+++ lxd-4.6/lxd/storage/drivers/driver_ceph.go
@@ -7,14 +7,14 @@ import (
 	"os/exec"
 	"strings"
 
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/units"
-	"github.com/lxc/lxd/shared/validate"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/units"
+	"lxc/lxd/shared/validate"
 )
 
 var cephAllowedFilesystems = []string{"btrfs", "ext4", "xfs"}
--- lxd-4.6.orig/lxd/storage/drivers/driver_ceph_utils.go
+++ lxd-4.6/lxd/storage/drivers/driver_ceph_utils.go
@@ -14,11 +14,11 @@ import (
 
 	"github.com/pborman/uuid"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/ioprogress"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/ioprogress"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/units"
 )
 
 const cephVolumeTypeZombieImage = VolumeType("zombie_image")
--- lxd-4.6.orig/lxd/storage/drivers/driver_ceph_volumes.go
+++ lxd-4.6/lxd/storage/drivers/driver_ceph_volumes.go
@@ -11,17 +11,17 @@ import (
 	"github.com/pkg/errors"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/lxd/backup"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/instancewriter"
-	"github.com/lxc/lxd/shared/ioprogress"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/units"
-	"github.com/lxc/lxd/shared/validate"
+	"lxc/lxd/lxd/backup"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/instancewriter"
+	"lxc/lxd/shared/ioprogress"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/units"
+	"lxc/lxd/shared/validate"
 )
 
 // CreateVolume creates an empty volume and can optionally fill it by executing the supplied
--- lxd-4.6.orig/lxd/storage/drivers/driver_cephfs.go
+++ lxd-4.6/lxd/storage/drivers/driver_cephfs.go
@@ -10,11 +10,11 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/validate"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/validate"
 )
 
 var cephfsVersion string
--- lxd-4.6.orig/lxd/storage/drivers/driver_cephfs_utils.go
+++ lxd-4.6/lxd/storage/drivers/driver_cephfs_utils.go
@@ -8,7 +8,7 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // fsExists checks that the Ceph FS instance indeed exists.
--- lxd-4.6.orig/lxd/storage/drivers/driver_cephfs_volumes.go
+++ lxd-4.6/lxd/storage/drivers/driver_cephfs_volumes.go
@@ -9,14 +9,14 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/backup"
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/rsync"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/instancewriter"
-	"github.com/lxc/lxd/shared/ioprogress"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/lxd/backup"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/rsync"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/instancewriter"
+	"lxc/lxd/shared/ioprogress"
+	"lxc/lxd/shared/units"
 )
 
 // CreateVolume creates a new storage volume on disk.
--- lxd-4.6.orig/lxd/storage/drivers/driver_common.go
+++ lxd-4.6/lxd/storage/drivers/driver_common.go
@@ -7,11 +7,11 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
 )
 
 type common struct {
--- lxd-4.6.orig/lxd/storage/drivers/driver_dir.go
+++ lxd-4.6/lxd/storage/drivers/driver_dir.go
@@ -7,9 +7,9 @@ import (
 
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 type dir struct {
--- lxd-4.6.orig/lxd/storage/drivers/driver_dir_utils.go
+++ lxd-4.6/lxd/storage/drivers/driver_dir_utils.go
@@ -3,10 +3,10 @@ package drivers
 import (
 	"fmt"
 
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/storage/quota"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/storage/quota"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/units"
 )
 
 // withoutGetVolID returns a copy of this struct but with a volIDFunc which will cause quotas to be skipped.
--- lxd-4.6.orig/lxd/storage/drivers/driver_dir_volumes.go
+++ lxd-4.6/lxd/storage/drivers/driver_dir_volumes.go
@@ -7,15 +7,15 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/backup"
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/rsync"
-	"github.com/lxc/lxd/lxd/storage/quota"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/instancewriter"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/lxd/backup"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/rsync"
+	"lxc/lxd/lxd/storage/quota"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/instancewriter"
+	"lxc/lxd/shared/units"
 )
 
 // CreateVolume creates an empty volume and can optionally fill it by executing the supplied
--- lxd-4.6.orig/lxd/storage/drivers/driver_lvm.go
+++ lxd-4.6/lxd/storage/drivers/driver_lvm.go
@@ -10,13 +10,13 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/units"
-	"github.com/lxc/lxd/shared/validate"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/units"
+	"lxc/lxd/shared/validate"
 )
 
 const lvmVgPoolMarker = "lxd_pool" // Indicator tag used to mark volume groups as in use by LXD.
--- lxd-4.6.orig/lxd/storage/drivers/driver_lvm_patches.go
+++ lxd-4.6/lxd/storage/drivers/driver_lvm_patches.go
@@ -6,8 +6,8 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 )
 
 // patchStorageSkipActivation set skipactivation=y on all LXD LVM logical volumes (excluding thin pool volumes).
--- lxd-4.6.orig/lxd/storage/drivers/driver_lvm_utils.go
+++ lxd-4.6/lxd/storage/drivers/driver_lvm_utils.go
@@ -10,13 +10,13 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/locking"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/shared"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/units"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/locking"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/shared"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/units"
+	"lxc/lxd/shared/version"
 )
 
 // lvmBlockVolSuffix suffix used for block content type svolumes.
--- lxd-4.6.orig/lxd/storage/drivers/driver_lvm_volumes.go
+++ lxd-4.6/lxd/storage/drivers/driver_lvm_volumes.go
@@ -13,15 +13,15 @@ import (
 	"github.com/pkg/errors"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/lxd/backup"
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/rsync"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/instancewriter"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/validate"
+	"lxc/lxd/lxd/backup"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/rsync"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/instancewriter"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/validate"
 )
 
 // CreateVolume creates an empty volume and can optionally fill it by executing the supplied filler function.
--- lxd-4.6.orig/lxd/storage/drivers/driver_zfs.go
+++ lxd-4.6/lxd/storage/drivers/driver_zfs.go
@@ -10,14 +10,14 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/units"
-	"github.com/lxc/lxd/shared/validate"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/units"
+	"lxc/lxd/shared/validate"
+	"lxc/lxd/shared/version"
 )
 
 var zfsVersion string
--- lxd-4.6.orig/lxd/storage/drivers/driver_zfs_patches.go
+++ lxd-4.6/lxd/storage/drivers/driver_zfs_patches.go
@@ -5,7 +5,7 @@ import (
 	"path/filepath"
 	"strings"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 func (d *zfs) patchStorageCreateVM() error {
--- lxd-4.6.orig/lxd/storage/drivers/driver_zfs_utils.go
+++ lxd-4.6/lxd/storage/drivers/driver_zfs_utils.go
@@ -10,9 +10,9 @@ import (
 
 	"github.com/pborman/uuid"
 
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/ioprogress"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/ioprogress"
 )
 
 func (d *zfs) dataset(vol Volume, deleted bool) string {
--- lxd-4.6.orig/lxd/storage/drivers/driver_zfs_volumes.go
+++ lxd-4.6/lxd/storage/drivers/driver_zfs_volumes.go
@@ -16,16 +16,16 @@ import (
 	"github.com/pkg/errors"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/lxd/backup"
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/instancewriter"
-	"github.com/lxc/lxd/shared/ioprogress"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/units"
-	"github.com/lxc/lxd/shared/validate"
+	"lxc/lxd/lxd/backup"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/instancewriter"
+	"lxc/lxd/shared/ioprogress"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/units"
+	"lxc/lxd/shared/validate"
 )
 
 // CreateVolume creates an empty volume and can optionally fill it by executing the supplied
--- lxd-4.6.orig/lxd/storage/drivers/drivers_mock.go
+++ lxd-4.6/lxd/storage/drivers/drivers_mock.go
@@ -3,11 +3,11 @@ package drivers
 import (
 	"io"
 
-	"github.com/lxc/lxd/lxd/backup"
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/instancewriter"
+	"lxc/lxd/lxd/backup"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/instancewriter"
 )
 
 type mock struct {
--- lxd-4.6.orig/lxd/storage/drivers/generic_vfs.go
+++ lxd-4.6/lxd/storage/drivers/generic_vfs.go
@@ -12,17 +12,17 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/lxd/rsync"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/instancewriter"
-	"github.com/lxc/lxd/shared/ioprogress"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/lxd/rsync"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/instancewriter"
+	"lxc/lxd/shared/ioprogress"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
 )
 
 // genericVFSGetResources is a generic GetResources implementation for VFS-only drivers.
--- lxd-4.6.orig/lxd/storage/drivers/interface.go
+++ lxd-4.6/lxd/storage/drivers/interface.go
@@ -3,13 +3,13 @@ package drivers
 import (
 	"io"
 
-	"github.com/lxc/lxd/lxd/backup"
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/instancewriter"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/backup"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/instancewriter"
+	"lxc/lxd/shared/logger"
 )
 
 // driver is the extended internal interface.
--- lxd-4.6.orig/lxd/storage/drivers/load.go
+++ lxd-4.6/lxd/storage/drivers/load.go
@@ -1,8 +1,8 @@
 package drivers
 
 import (
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/shared/logger"
 )
 
 var drivers = map[string]func() driver{
--- lxd-4.6.orig/lxd/storage/drivers/utils.go
+++ lxd-4.6/lxd/storage/drivers/utils.go
@@ -14,9 +14,9 @@ import (
 	"github.com/pkg/errors"
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/idmap"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/idmap"
 )
 
 // MinBlockBoundary minimum block boundary size to use.
--- lxd-4.6.orig/lxd/storage/drivers/utils_cgo.go
+++ lxd-4.6/lxd/storage/drivers/utils_cgo.go
@@ -11,7 +11,7 @@ import (
 	"github.com/pkg/errors"
 
 	// Used by cgo
-	_ "github.com/lxc/lxd/lxd/include"
+	_ "lxc/lxd/lxd/include"
 )
 
 /*
--- lxd-4.6.orig/lxd/storage/drivers/volume.go
+++ lxd-4.6/lxd/storage/drivers/volume.go
@@ -6,11 +6,11 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/locking"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/revert"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/lxd/locking"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/revert"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/units"
 )
 
 // tmpVolSuffix Suffix to use for any temporary volumes created by LXD.
--- lxd-4.6.orig/lxd/storage/load.go
+++ lxd-4.6/lxd/storage/load.go
@@ -3,16 +3,16 @@ package storage
 import (
 	"fmt"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/lxd/storage/drivers"
-	"github.com/lxc/lxd/shared/api"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/logging"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/lxd/storage/drivers"
+	"lxc/lxd/shared/api"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logging"
 )
 
 // volIDFuncMake returns a function that can be supplied to the underlying storage drivers allowing
--- lxd-4.6.orig/lxd/storage/pool_interface.go
+++ lxd-4.6/lxd/storage/pool_interface.go
@@ -4,13 +4,13 @@ import (
 	"io"
 	"time"
 
-	"github.com/lxc/lxd/lxd/backup"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/storage/drivers"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/instancewriter"
+	"lxc/lxd/lxd/backup"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/storage/drivers"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/instancewriter"
 )
 
 // Pool represents a LXD storage pool.
--- lxd-4.6.orig/lxd/storage/quota/projectquota.go
+++ lxd-4.6/lxd/storage/quota/projectquota.go
@@ -10,7 +10,7 @@ import (
 
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 /*
--- lxd-4.6.orig/lxd/storage/storage.go
+++ lxd-4.6/lxd/storage/storage.go
@@ -3,9 +3,9 @@ package storage
 import (
 	"os"
 
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/shared"
 )
 
 // InstancePath returns the directory of an instance or snapshot.
--- lxd-4.6.orig/lxd/storage/utils.go
+++ lxd-4.6/lxd/storage/utils.go
@@ -12,23 +12,23 @@ import (
 	"github.com/pkg/errors"
 	"gopkg.in/robfig/cron.v2"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/instance/instancetype"
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/lxd/node"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/rsync"
-	"github.com/lxc/lxd/lxd/state"
-	"github.com/lxc/lxd/lxd/storage/drivers"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/ioprogress"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/logging"
-	"github.com/lxc/lxd/shared/units"
-	"github.com/lxc/lxd/shared/validate"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/instance/instancetype"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/lxd/node"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/rsync"
+	"lxc/lxd/lxd/state"
+	"lxc/lxd/lxd/storage/drivers"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/ioprogress"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logging"
+	"lxc/lxd/shared/units"
+	"lxc/lxd/shared/validate"
 )
 
 // ValidName validates the provided name, and returns an error if it's not a valid storage name.
--- lxd-4.6.orig/lxd/storage_migration.go
+++ lxd-4.6/lxd/storage_migration.go
@@ -3,11 +3,11 @@ package main
 import (
 	"time"
 
-	"github.com/lxc/lxd/lxd/db"
-	deviceConfig "github.com/lxc/lxd/lxd/device/config"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/migration"
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/lxd/db"
+	deviceConfig "lxc/lxd/lxd/device/config"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/migration"
+	"lxc/lxd/shared"
 )
 
 func snapshotProtobufToInstanceArgs(inst instance.Instance, snap *migration.Snapshot) db.InstanceArgs {
--- lxd-4.6.orig/lxd/storage_pools.go
+++ lxd-4.6/lxd/storage_pools.go
@@ -10,15 +10,15 @@ import (
 	"github.com/gorilla/mux"
 	"github.com/pkg/errors"
 
-	lxd "github.com/lxc/lxd/client"
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/response"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/version"
+	lxd "lxc/lxd/client"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/response"
+	storagePools "lxc/lxd/lxd/storage"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/version"
 )
 
 // Lock to prevent concurent storage pools creation
--- lxd-4.6.orig/lxd/storage_pools_config.go
+++ lxd-4.6/lxd/storage_pools_config.go
@@ -7,10 +7,10 @@ import (
 
 	"golang.org/x/sys/unix"
 
-	storageDrivers "github.com/lxc/lxd/lxd/storage/drivers"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/units"
-	"github.com/lxc/lxd/shared/validate"
+	storageDrivers "lxc/lxd/lxd/storage/drivers"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/units"
+	"lxc/lxd/shared/validate"
 )
 
 var storagePoolConfigKeys = map[string]func(value string) error{
--- lxd-4.6.orig/lxd/storage_pools_utils.go
+++ lxd-4.6/lxd/storage_pools_utils.go
@@ -3,10 +3,10 @@ package main
 import (
 	"fmt"
 
-	"github.com/lxc/lxd/lxd/state"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/lxd/state"
+	storagePools "lxc/lxd/lxd/storage"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
 )
 
 func storagePoolUpdate(state *state.State, name, newDescription string, newConfig map[string]string, withDB bool) error {
--- lxd-4.6.orig/lxd/storage_volumes.go
+++ lxd-4.6/lxd/storage_volumes.go
@@ -11,19 +11,19 @@ import (
 
 	"github.com/gorilla/mux"
 	"github.com/gorilla/websocket"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/response"
-	"github.com/lxc/lxd/lxd/state"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/response"
+	"lxc/lxd/lxd/state"
+	storagePools "lxc/lxd/lxd/storage"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/version"
 )
 
 var storagePoolVolumesCmd = APIEndpoint{
--- lxd-4.6.orig/lxd/storage_volumes_snapshot.go
+++ lxd-4.6/lxd/storage_volumes_snapshot.go
@@ -17,19 +17,19 @@ import (
 	"github.com/pkg/errors"
 	cron "gopkg.in/robfig/cron.v2"
 
-	"github.com/lxc/lxd/lxd/cluster"
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/operations"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/response"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	"github.com/lxc/lxd/lxd/task"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/cluster"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/operations"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/response"
+	storagePools "lxc/lxd/lxd/storage"
+	"lxc/lxd/lxd/task"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/version"
 )
 
 var storagePoolVolumeSnapshotsTypeCmd = APIEndpoint{
--- lxd-4.6.orig/lxd/storage_volumes_utils.go
+++ lxd-4.6/lxd/storage_volumes_utils.go
@@ -4,14 +4,14 @@ import (
 	"fmt"
 	"path/filepath"
 
-	"github.com/lxc/lxd/lxd/db"
-	"github.com/lxc/lxd/lxd/instance"
-	"github.com/lxc/lxd/lxd/project"
-	"github.com/lxc/lxd/lxd/state"
-	storagePools "github.com/lxc/lxd/lxd/storage"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/version"
+	"lxc/lxd/lxd/db"
+	"lxc/lxd/lxd/instance"
+	"lxc/lxd/lxd/project"
+	"lxc/lxd/lxd/state"
+	storagePools "lxc/lxd/lxd/storage"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/version"
 )
 
 // Leave the string type in here! This guarantees that go treats this is as a
--- lxd-4.6.orig/lxd/sys/apparmor.go
+++ lxd-4.6/lxd/sys/apparmor.go
@@ -9,12 +9,12 @@ import (
 	"strconv"
 	"strings"
 
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 	"github.com/syndtr/gocapability/capability"
 
-	log "github.com/lxc/lxd/shared/log15"
+	log "lxc/lxd/shared/log15"
 )
 
 // Initialize AppArmor-specific attributes.
--- lxd-4.6.orig/lxd/sys/os.go
+++ lxd-4.6/lxd/sys/os.go
@@ -6,13 +6,13 @@ import (
 	"path/filepath"
 	"sync"
 
-	log "github.com/lxc/lxd/shared/log15"
+	log "lxc/lxd/shared/log15"
 
-	"github.com/lxc/lxd/lxd/cgroup"
-	"github.com/lxc/lxd/lxd/util"
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/idmap"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/lxd/cgroup"
+	"lxc/lxd/lxd/util"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/idmap"
+	"lxc/lxd/shared/logger"
 )
 
 // InotifyTargetInfo records the inotify information associated with a given
--- lxd-4.6.orig/lxd/task/group_test.go
+++ lxd-4.6/lxd/task/group_test.go
@@ -5,7 +5,7 @@ import (
 	"testing"
 	"time"
 
-	"github.com/lxc/lxd/lxd/task"
+	"lxc/lxd/lxd/task"
 	"github.com/stretchr/testify/assert"
 )
 
--- lxd-4.6.orig/lxd/task/task_test.go
+++ lxd-4.6/lxd/task/task_test.go
@@ -6,7 +6,7 @@ import (
 	"testing"
 	"time"
 
-	"github.com/lxc/lxd/lxd/task"
+	"lxc/lxd/lxd/task"
 	"github.com/stretchr/testify/assert"
 )
 
--- lxd-4.6.orig/lxd/util/config.go
+++ lxd-4.6/lxd/util/config.go
@@ -5,7 +5,7 @@ import (
 	"sort"
 	"strings"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // CompareConfigs compares two config maps and returns an error if they differ.
--- lxd-4.6.orig/lxd/util/config_test.go
+++ lxd-4.6/lxd/util/config_test.go
@@ -3,7 +3,7 @@ package util_test
 import (
 	"testing"
 
-	"github.com/lxc/lxd/lxd/util"
+	"lxc/lxd/lxd/util"
 	"github.com/mpvl/subtest"
 	"github.com/stretchr/testify/assert"
 )
--- lxd-4.6.orig/lxd/util/encryption.go
+++ lxd-4.6/lxd/util/encryption.go
@@ -7,7 +7,7 @@ import (
 	"io/ioutil"
 	"path/filepath"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 	"github.com/pkg/errors"
 
 	"golang.org/x/crypto/scrypt"
--- lxd-4.6.orig/lxd/util/fs.go
+++ lxd-4.6/lxd/util/fs.go
@@ -5,7 +5,7 @@ import (
 
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logger"
 )
 
 // Filesystem magic numbers
--- lxd-4.6.orig/lxd/util/http.go
+++ lxd-4.6/lxd/util/http.go
@@ -19,10 +19,10 @@ import (
 
 	"golang.org/x/sys/unix"
 
-	log "github.com/lxc/lxd/shared/log15"
+	log "lxc/lxd/shared/log15"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 )
 
 // WriteJSON encodes the body as JSON and sends it back to the client
--- lxd-4.6.orig/lxd/util/kernel.go
+++ lxd-4.6/lxd/util/kernel.go
@@ -6,7 +6,7 @@ import (
 	"os"
 	"strings"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // LoadModule loads the kernel module with the given name, by invoking
--- lxd-4.6.orig/lxd/util/net.go
+++ lxd-4.6/lxd/util/net.go
@@ -7,8 +7,8 @@ import (
 	"io/ioutil"
 	"net"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 )
 
 // InMemoryNetwork creates a fully in-memory listener and dial function.
--- lxd-4.6.orig/lxd/util/net_test.go
+++ lxd-4.6/lxd/util/net_test.go
@@ -6,7 +6,7 @@ import (
 	"net"
 	"testing"
 
-	"github.com/lxc/lxd/lxd/util"
+	"lxc/lxd/lxd/util"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/lxd/util/sys.go
+++ lxd-4.6/lxd/util/sys.go
@@ -8,12 +8,12 @@ import (
 	"strconv"
 	"strings"
 
-	log "github.com/lxc/lxd/shared/log15"
+	log "lxc/lxd/shared/log15"
 	liblxc "gopkg.in/lxc/go-lxc.v2"
 
-	"github.com/lxc/lxd/shared/idmap"
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/osarch"
+	"lxc/lxd/shared/idmap"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/osarch"
 )
 
 // GetArchitectures returns the list of supported architectures.
--- lxd-4.6.orig/lxd/vsock/vsock.go
+++ lxd-4.6/lxd/vsock/vsock.go
@@ -7,7 +7,7 @@ import (
 
 	"github.com/mdlayher/vsock"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // Dial connects to a remote vsock.
--- lxd-4.6.orig/shared/archive_linux.go
+++ lxd-4.6/shared/archive_linux.go
@@ -8,8 +8,8 @@ import (
 
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/shared/ioprogress"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared/ioprogress"
+	"lxc/lxd/shared/logger"
 )
 
 func Unpack(file string, path string, blockBackend bool, runningInUserns bool, tracker *ioprogress.ProgressTracker) error {
--- lxd-4.6.orig/shared/cert_test.go
+++ lxd-4.6/shared/cert_test.go
@@ -8,7 +8,7 @@ import (
 	"path/filepath"
 	"testing"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // A new key pair is generated if none exists and saved to the appropriate
--- lxd-4.6.orig/shared/cmd/ask.go
+++ lxd-4.6/shared/cmd/ask.go
@@ -9,7 +9,7 @@ import (
 
 	"golang.org/x/crypto/ssh/terminal"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 var stdin = bufio.NewReader(os.Stdin)
--- lxd-4.6.orig/shared/eagain/file_unix.go
+++ lxd-4.6/shared/eagain/file_unix.go
@@ -5,7 +5,7 @@ import (
 
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // Reader represents an io.Reader that handles EAGAIN
--- lxd-4.6.orig/shared/generate/db.go
+++ lxd-4.6/shared/generate/db.go
@@ -6,9 +6,9 @@ import (
 	"github.com/pkg/errors"
 	"github.com/spf13/cobra"
 
-	"github.com/lxc/lxd/shared/generate/db"
-	"github.com/lxc/lxd/shared/generate/file"
-	"github.com/lxc/lxd/shared/generate/lex"
+	"lxc/lxd/shared/generate/db"
+	"lxc/lxd/shared/generate/file"
+	"lxc/lxd/shared/generate/lex"
 )
 
 // Return a new db command.
--- lxd-4.6.orig/shared/generate/db/constants.go
+++ lxd-4.6/shared/generate/db/constants.go
@@ -4,8 +4,8 @@ package db
 var Imports = []string{
 	"database/sql",
 	"fmt",
-	"github.com/lxc/lxd/lxd/db/cluster",
-	"github.com/lxc/lxd/lxd/db/query",
-	"github.com/lxc/lxd/shared/api",
+	"lxc/lxd/lxd/db/cluster",
+	"lxc/lxd/lxd/db/query",
+	"lxc/lxd/shared/api",
 	"github.com/pkg/errors",
 }
--- lxd-4.6.orig/shared/generate/db/lex.go
+++ lxd-4.6/shared/generate/db/lex.go
@@ -4,7 +4,7 @@ import (
 	"fmt"
 	"strings"
 
-	"github.com/lxc/lxd/shared/generate/lex"
+	"lxc/lxd/shared/generate/lex"
 )
 
 // Return the table name for the given database entity.
--- lxd-4.6.orig/shared/generate/db/mapping.go
+++ lxd-4.6/shared/generate/db/mapping.go
@@ -5,8 +5,8 @@ import (
 	"net/url"
 	"strings"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/generate/lex"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/generate/lex"
 )
 
 // Mapping holds information for mapping database tables to a Go structure.
--- lxd-4.6.orig/shared/generate/db/method.go
+++ lxd-4.6/shared/generate/db/method.go
@@ -5,8 +5,8 @@ import (
 	"go/ast"
 	"strings"
 
-	"github.com/lxc/lxd/shared/generate/file"
-	"github.com/lxc/lxd/shared/generate/lex"
+	"lxc/lxd/shared/generate/file"
+	"lxc/lxd/shared/generate/lex"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/shared/generate/db/parse.go
+++ lxd-4.6/shared/generate/db/parse.go
@@ -8,7 +8,7 @@ import (
 	"sort"
 	"strings"
 
-	"github.com/lxc/lxd/shared/generate/lex"
+	"lxc/lxd/shared/generate/lex"
 	"github.com/pkg/errors"
 )
 
@@ -31,8 +31,8 @@ func Packages() (map[string]*ast.Package
 }
 
 var defaultPackages = []string{
-	"github.com/lxc/lxd/shared/api",
-	"github.com/lxc/lxd/lxd/db",
+	"lxc/lxd/shared/api",
+	"lxc/lxd/lxd/db",
 }
 
 // Filters parses all filtering statement defined for the given entity. It
--- lxd-4.6.orig/shared/generate/db/parse_test.go
+++ lxd-4.6/shared/generate/db/parse_test.go
@@ -7,7 +7,7 @@ import (
 	"testing"
 	"time"
 
-	"github.com/lxc/lxd/shared/generate/db"
+	"lxc/lxd/shared/generate/db"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
--- lxd-4.6.orig/shared/generate/db/schema.go
+++ lxd-4.6/shared/generate/db/schema.go
@@ -3,8 +3,8 @@ package db
 import (
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/lxd/db/cluster"
-	"github.com/lxc/lxd/lxd/db/node"
+	"lxc/lxd/lxd/db/cluster"
+	"lxc/lxd/lxd/db/node"
 )
 
 // UpdateSchema updates the schema.go file of the cluster and node databases.
--- lxd-4.6.orig/shared/generate/db/stmt.go
+++ lxd-4.6/shared/generate/db/stmt.go
@@ -5,8 +5,8 @@ import (
 	"go/ast"
 	"strings"
 
-	"github.com/lxc/lxd/shared/generate/file"
-	"github.com/lxc/lxd/shared/generate/lex"
+	"lxc/lxd/shared/generate/file"
+	"lxc/lxd/shared/generate/lex"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/shared/generate/lex/parse_test.go
+++ lxd-4.6/shared/generate/lex/parse_test.go
@@ -3,13 +3,13 @@ package lex_test
 import (
 	"testing"
 
-	"github.com/lxc/lxd/shared/generate/lex"
+	"lxc/lxd/shared/generate/lex"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/require"
 )
 
 func TestParse(t *testing.T) {
-	pkg, err := lex.Parse("github.com/lxc/lxd/shared/generate/lex")
+	pkg, err := lex.Parse("lxc/lxd/shared/generate/lex")
 	require.NoError(t, err)
 
 	obj := pkg.Scope.Lookup("Parse")
--- lxd-4.6.orig/shared/idmap/idmapset_linux.go
+++ lxd-4.6/shared/idmap/idmapset_linux.go
@@ -16,8 +16,8 @@ import (
 	"strings"
 	"sync/atomic"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 	"github.com/pkg/errors"
 )
 
--- lxd-4.6.orig/shared/idmap/shift_linux.go
+++ lxd-4.6/shared/idmap/shift_linux.go
@@ -13,10 +13,10 @@ import (
 	"golang.org/x/sys/unix"
 
 	// Used by cgo
-	_ "github.com/lxc/lxd/lxd/include"
+	_ "lxc/lxd/lxd/include"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 )
 
 // #cgo LDFLAGS: -lacl
--- lxd-4.6.orig/shared/instance.go
+++ lxd-4.6/shared/instance.go
@@ -10,8 +10,8 @@ import (
 	"github.com/pkg/errors"
 	"gopkg.in/robfig/cron.v2"
 
-	"github.com/lxc/lxd/shared/units"
-	"github.com/lxc/lxd/shared/validate"
+	"lxc/lxd/shared/units"
+	"lxc/lxd/shared/validate"
 )
 
 type InstanceAction string
--- lxd-4.6.orig/shared/instancewriter/instance_tar_writer.go
+++ lxd-4.6/shared/instancewriter/instance_tar_writer.go
@@ -8,9 +8,9 @@ import (
 
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/idmap"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/idmap"
+	"lxc/lxd/shared/logger"
 )
 
 // InstanceTarWriter provides a TarWriter implementation that handles ID shifting and hardlink tracking.
--- lxd-4.6.orig/shared/json.go
+++ lxd-4.6/shared/json.go
@@ -5,7 +5,7 @@ import (
 	"encoding/json"
 	"fmt"
 
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logger"
 )
 
 type Jmap map[string]interface{}
--- lxd-4.6.orig/shared/log15/handler.go
+++ lxd-4.6/shared/log15/handler.go
@@ -9,7 +9,7 @@ import (
 	"reflect"
 	"sync"
 
-	"github.com/lxc/lxd/shared/log15/stack"
+	"lxc/lxd/shared/log15/stack"
 )
 
 // A Logger prints its log records by writing to a Handler.
--- lxd-4.6.orig/shared/log15/root.go
+++ lxd-4.6/shared/log15/root.go
@@ -3,7 +3,7 @@ package log15
 import (
 	"os"
 
-	"github.com/lxc/lxd/shared/log15/term"
+	"lxc/lxd/shared/log15/term"
 	"github.com/mattn/go-colorable"
 )
 
--- lxd-4.6.orig/shared/logging/format.go
+++ lxd-4.6/shared/logging/format.go
@@ -9,7 +9,7 @@ import (
 	"strings"
 	"time"
 
-	log "github.com/lxc/lxd/shared/log15"
+	log "lxc/lxd/shared/log15"
 )
 
 const (
--- lxd-4.6.orig/shared/logging/log.go
+++ lxd-4.6/shared/logging/log.go
@@ -6,10 +6,10 @@ import (
 	"path/filepath"
 	"time"
 
-	log "github.com/lxc/lxd/shared/log15"
-	"github.com/lxc/lxd/shared/log15/term"
+	log "lxc/lxd/shared/log15"
+	"lxc/lxd/shared/log15/term"
 
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared/logger"
 )
 
 // GetLogger returns a logger suitable for using as logger.Log.
--- lxd-4.6.orig/shared/logging/log_posix.go
+++ lxd-4.6/shared/logging/log_posix.go
@@ -3,7 +3,7 @@
 package logging
 
 import (
-	log "github.com/lxc/lxd/shared/log15"
+	log "lxc/lxd/shared/log15"
 )
 
 // getSystemHandler on Linux writes messages to syslog.
--- lxd-4.6.orig/shared/logging/log_windows.go
+++ lxd-4.6/shared/logging/log_windows.go
@@ -3,7 +3,7 @@
 package logging
 
 import (
-	log "github.com/lxc/lxd/shared/log15"
+	log "lxc/lxd/shared/log15"
 )
 
 // getSystemHandler on Windows does nothing.
--- lxd-4.6.orig/shared/logging/testing.go
+++ lxd-4.6/shared/logging/testing.go
@@ -4,7 +4,7 @@ import (
 	"fmt"
 	"testing"
 
-	log "github.com/lxc/lxd/shared/log15"
+	log "lxc/lxd/shared/log15"
 )
 
 // Testing installs a global logger that emits messages using the t.Logf method
--- lxd-4.6.orig/shared/netutils/network_linux.go
+++ lxd-4.6/shared/netutils/network_linux.go
@@ -7,8 +7,8 @@ import (
 
 	"github.com/gorilla/websocket"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/logger"
 )
 
 // WebsocketExecMirror mirrors a websocket connection with a set of Writer/Reader.
--- lxd-4.6.orig/shared/netutils/network_linux_cgo.go
+++ lxd-4.6/shared/netutils/network_linux_cgo.go
@@ -11,7 +11,7 @@ import (
 	"strings"
 	"unsafe"
 
-	"github.com/lxc/lxd/shared/api"
+	"lxc/lxd/shared/api"
 )
 
 /*
--- lxd-4.6.orig/shared/network.go
+++ lxd-4.6/shared/network.go
@@ -16,8 +16,8 @@ import (
 
 	"github.com/gorilla/websocket"
 
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/logger"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/logger"
 )
 
 func RFC3493Dialer(network, address string) (net.Conn, error) {
--- lxd-4.6.orig/shared/osarch/architectures_linux.go
+++ lxd-4.6/shared/osarch/architectures_linux.go
@@ -3,7 +3,7 @@
 package osarch
 
 import (
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // ArchitectureGetLocal returns the local hardware architecture
--- lxd-4.6.orig/shared/osarch/tempfile_test.go
+++ lxd-4.6/shared/osarch/tempfile_test.go
@@ -5,7 +5,7 @@ import (
 
 	"github.com/stretchr/testify/suite"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // WriteTempFile writes content to a temporary file.
--- lxd-4.6.orig/shared/simplestreams/products.go
+++ lxd-4.6/shared/simplestreams/products.go
@@ -5,9 +5,9 @@ import (
 	"strings"
 	"time"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/osarch"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/osarch"
 )
 
 // Products represents the base of download.json
--- lxd-4.6.orig/shared/simplestreams/simplestreams.go
+++ lxd-4.6/shared/simplestreams/simplestreams.go
@@ -12,9 +12,9 @@ import (
 	"strings"
 	"time"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/osarch"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/osarch"
 )
 
 var urlDefaultOS = map[string]string{
--- lxd-4.6.orig/shared/simplestreams/sort.go
+++ lxd-4.6/shared/simplestreams/sort.go
@@ -1,9 +1,9 @@
 package simplestreams
 
 import (
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/api"
-	"github.com/lxc/lxd/shared/osarch"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/api"
+	"lxc/lxd/shared/osarch"
 )
 
 var nativeName, _ = osarch.ArchitectureGetLocal()
--- lxd-4.6.orig/shared/subprocess/proc.go
+++ lxd-4.6/shared/subprocess/proc.go
@@ -11,7 +11,7 @@ import (
 	"github.com/pkg/errors"
 	"gopkg.in/yaml.v2"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // Process struct. Has ability to set runtime arguments
--- lxd-4.6.orig/shared/termios/termios_unix.go
+++ lxd-4.6/shared/termios/termios_unix.go
@@ -7,7 +7,7 @@ import (
 
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/shared"
+	"lxc/lxd/shared"
 )
 
 // #include <termios.h>
--- lxd-4.6.orig/shared/util.go
+++ lxd-4.6/shared/util.go
@@ -27,9 +27,9 @@ import (
 	"github.com/flosch/pongo2"
 	"github.com/pkg/errors"
 
-	"github.com/lxc/lxd/shared/cancel"
-	"github.com/lxc/lxd/shared/ioprogress"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/shared/cancel"
+	"lxc/lxd/shared/ioprogress"
+	"lxc/lxd/shared/units"
 )
 
 const SnapshotDelimiter = "/"
--- lxd-4.6.orig/shared/util_linux.go
+++ lxd-4.6/shared/util_linux.go
@@ -17,8 +17,8 @@ import (
 
 	"golang.org/x/sys/unix"
 
-	"github.com/lxc/lxd/shared/logger"
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/shared/logger"
+	"lxc/lxd/shared/units"
 )
 
 // --- pure Go functions ---
--- lxd-4.6.orig/shared/util_linux_cgo.go
+++ lxd-4.6/shared/util_linux_cgo.go
@@ -9,7 +9,7 @@ import (
 	"unsafe"
 
 	// Used by cgo
-	_ "github.com/lxc/lxd/lxd/include"
+	_ "lxc/lxd/lxd/include"
 
 	"golang.org/x/sys/unix"
 )
--- lxd-4.6.orig/shared/validate/validate.go
+++ lxd-4.6/shared/validate/validate.go
@@ -7,7 +7,7 @@ import (
 	"strconv"
 	"strings"
 
-	"github.com/lxc/lxd/shared/units"
+	"lxc/lxd/shared/units"
 )
 
 // stringInSlice checks whether the supplied string is present in the supplied slice.
--- lxd-4.6.orig/shared/validate/validate_test.go
+++ lxd-4.6/shared/validate/validate_test.go
@@ -3,7 +3,7 @@ package validate_test
 import (
 	"fmt"
 
-	"github.com/lxc/lxd/shared/validate"
+	"lxc/lxd/shared/validate"
 )
 
 func ExampleIsNetworkMAC() {
--- lxd-4.6.orig/shared/version/platform_linux.go
+++ lxd-4.6/shared/version/platform_linux.go
@@ -6,8 +6,8 @@ import (
 	"io/ioutil"
 	"strings"
 
-	"github.com/lxc/lxd/shared"
-	"github.com/lxc/lxd/shared/osarch"
+	"lxc/lxd/shared"
+	"lxc/lxd/shared/osarch"
 )
 
 func getPlatformVersionStrings() []string {
--- lxd-4.6.orig/shared/version/useragent.go
+++ lxd-4.6/shared/version/useragent.go
@@ -5,7 +5,7 @@ import (
 	"runtime"
 	"strings"
 
-	"github.com/lxc/lxd/shared/osarch"
+	"lxc/lxd/shared/osarch"
 )
 
 // UserAgent contains a string suitable as a user-agent
